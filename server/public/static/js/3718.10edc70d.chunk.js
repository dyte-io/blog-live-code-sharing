"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[3718],{3905:function(t,n,u){u.d(n,{d:function(){return e},e:function(){return i},f:function(){return r}});var e=function(t,n){var u=n.getTime()-t.getTime();return Math.round(Math.abs(u/1e3/60))},i=function(t,n){var u=e(t,n);if(u<2)return"just now";if(u<60)return"".concat(u,"m ago");var i=Math.round(u/60);if(u<90)return"about ".concat(i,"h ago");if(i<24)return"".concat(i,"h ago");var r=Math.round(i/24);if(r<7)return"".concat(r,"d ago");var a=Math.round(r/7);return"".concat(a,"w ago")},r=function(t){return t.toDateString()+" "+t.toLocaleTimeString()}},3718:function(t,n,u){u.r(n),u.d(n,{dyte_file_message:function(){return d},dyte_image_message:function(){return l},dyte_text_message:function(){return v}});var e=u(5671),i=u(3144),r=u(325),a=u(3905),s=u(9013),o=u(7239),c=u(8807),D=u(859),f=u(5100),h=function(t){var n=t.name,u=t.time,e=t.now;return(0,r.h)("div",{class:"head"},(0,r.h)("div",{class:"name"},(0,s.s)((0,s.f)(n),20)),(0,r.h)("div",{class:"time",title:(0,a.f)(u)},(0,a.e)(u,e)))},d=function(){function t(n){(0,e.Z)(this,t),(0,r.r)(this,n),this.message=void 0,this.now=new Date,this.isContinued=!1,this.iconPack=o.d,this.t=(0,D.u)()}return(0,i.Z)(t,[{key:"render",value:function(){var t=this,n=(0,s.a)(this.message.link);return(0,r.h)(r.H,null,!this.isContinued&&(0,r.h)(h,{name:this.message.displayName,time:this.message.time,now:this.now}),(0,r.h)("div",{class:"body",part:"body"},(0,r.h)("div",{class:"file"},(0,r.h)("div",{class:"file-data"},(0,r.h)("div",{class:"name"},this.message.name),(0,r.h)("div",{class:"file-data-split"},(0,r.h)("div",{class:"ext"},(0,c.g)(this.message.name)),(0,r.h)("span",{class:"divider"}),(0,r.h)("div",{class:"size"},(0,c.a)(this.message.size)))),(0,r.h)("dyte-button",{variant:"secondary",kind:"icon",iconPack:this.iconPack,t:this.t,onClick:function(){return(0,c.d)(n,{name:t.message.name,fallbackName:"file"})},part:"button"},(0,r.h)("dyte-icon",{icon:this.iconPack.download,iconPack:this.iconPack,t:this.t})))))}}]),t}(),l=function(){function t(n){(0,e.Z)(this,t),(0,r.r)(this,n),this.stateUpdate=(0,r.c)(this,"dyteStateUpdate",7),this.message=void 0,this.now=new Date,this.isContinued=!1,this.iconPack=o.d,this.t=(0,D.u)(),this.status="loading"}return(0,i.Z)(t,[{key:"render",value:function(){var t=this;return(0,r.h)(r.H,null,!this.isContinued&&(0,r.h)(h,{name:this.message.displayName,time:this.message.time,now:this.now}),(0,r.h)("div",{class:"body",part:"body"},(0,r.h)("div",{class:{image:!0,loaded:"loaded"===this.status}},(0,r.h)("img",{src:(0,s.a)(this.message.link),onLoad:function(){t.status="loaded"},onError:function(){t.status="errored"},onClick:function(){"loaded"===t.status&&(t.stateUpdate.emit({image:t.message}),f.s.image=t.message)}}),"loading"===this.status&&(0,r.h)("div",{class:"image-spinner",title:this.t("Loading image"),"aria-label":this.t("Loading image")},(0,r.h)("dyte-spinner",{iconPack:this.iconPack,t:this.t})),"errored"===this.status&&(0,r.h)("div",{class:"image-errored",title:this.t("Image not found"),"aria-label":this.t("Image not found")},(0,r.h)("dyte-icon",{icon:this.iconPack.image_off,iconPack:this.iconPack,t:this.t})),"loaded"===this.status&&(0,r.h)("div",{class:"actions"},(0,r.h)("dyte-button",{class:"action",variant:"secondary",kind:"icon",onClick:function(){t.stateUpdate.emit({image:t.message}),f.s.image=t.message},iconPack:this.iconPack,t:this.t},(0,r.h)("dyte-icon",{icon:this.iconPack.full_screen_maximize})),(0,r.h)("dyte-button",{class:"action",variant:"secondary",kind:"icon",onClick:function(){return(0,c.d)(t.message.link,{fallbackName:"image"})},iconPack:this.iconPack,t:this.t},(0,r.h)("dyte-icon",{icon:this.iconPack.download,iconPack:this.iconPack,t:this.t}))))))}}]),t}();l.style=".image-spinner{cursor:wait}.image-errored{cursor:not-allowed}";var g=/(https?:\/\/[^\s]+)/,m=function(t){return t.message.split("\n").map((function(t){return(0,r.h)("p",null,function(t){var n=t.split(" "),u=n.length-1;return n.map((function(t,n){return g.test(t)?(0,r.h)("span",null,(0,r.h)("a",{href:t,target:"_blank",rel:"noopener noreferrer"},t),n!==u?" ":""):"".concat(t).concat(n!==u?" ":"")}))}(t))}))},v=function(){function t(n){(0,e.Z)(this,t),(0,r.r)(this,n),this.message=void 0,this.now=new Date,this.isContinued=!1,this.iconPack=o.d,this.t=(0,D.u)()}return(0,i.Z)(t,[{key:"render",value:function(){return(0,r.h)(r.H,null,!this.isContinued&&(0,r.h)(h,{name:this.message.displayName,time:this.message.time,now:this.now}),(0,r.h)("div",{class:"body",part:"body"},(0,r.h)("div",{class:{text:!0,emoji:(0,s.h)(this.message.message)}},(0,r.h)(m,{message:this.message.message}))))}}]),t}()},8807:function(t,n,u){u.d(n,{a:function(){return s},d:function(){return c},g:function(){return a}});var e=u(4165),i=u(5861),r=u(9013),a=function(t){return t.split(".").pop()},s=function(t){if(!t)return"0 B";var n=Math.floor(Math.log(t)/Math.log(1024));return"".concat((t/Math.pow(1024,n)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][n])},o=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file";try{var u=new URL(t).pathname.split("/").pop();return"/"!==u?u:n}catch(e){return n}},c=function(){var t=(0,i.Z)((0,e.Z)().mark((function t(n,u){var i,a,s,c;return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,r.a)(n),i=null===u||void 0===u?void 0:u.name,t.next=4,fetch(n);case 4:if((a=t.sent).ok){t.next=8;break}return window.open(n,"_blank"),t.abrupt("return");case 8:return t.t0=URL,t.next=11,a.blob();case 11:t.t1=t.sent,s=t.t0.createObjectURL.call(t.t0,t.t1),(c=document.createElement("a")).href=s,c.download=null!==i&&void 0!==i?i:o(n,null===u||void 0===u?void 0:u.fallbackName),c.click();case 17:case"end":return t.stop()}}),t)})));return function(n,u){return t.apply(this,arguments)}}()},859:function(t,n,u){u.d(n,{g:function(){return a},u:function(){return s}});var e=u(4165),i=u(5861),r=u(7239),a=function(){var t=(0,i.Z)((0,e.Z)().mark((function t(n){var u;return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=n&&"en"!==n&&""!==n.trim()){t.next=2;break}return t.abrupt("return",r.a);case 2:return t.prev=2,t.next=5,fetch("".concat("http://localhost:5000","/").concat(n,".json"));case 5:if((u=t.sent).ok){t.next=8;break}return t.abrupt("return",r.a);case 8:return t.t0=Object,t.t1={},t.t2=r.a,t.next=13,u.json();case 13:return t.t3=t.sent,t.abrupt("return",t.t0.assign.call(t.t0,t.t1,t.t2,t.t3));case 17:return t.prev=17,t.t4=t.catch(2),t.abrupt("return",r.a);case 20:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(n){return t.apply(this,arguments)}}(),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.a;return function(n){var u;return null!==(u=t[n])&&void 0!==u?u:n}}},5100:function(t,n,u){u.d(n,{o:function(){return f},s:function(){return D}});var e=u(7762),i=u(325),r=function(t){return!("isConnected"in t)||t.isConnected},a=function(t,n){var u;return function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];u&&clearTimeout(u),u=setTimeout((function(){u=0,t.apply(void 0,i)}),n)}}((function(t){var n,u=(0,e.Z)(t.keys());try{for(u.s();!(n=u.n()).done;){var i=n.value;t.set(i,t.get(i).filter(r))}}catch(a){u.e(a)}finally{u.f()}}),2e3),s=function(t){return"function"===typeof t?t():t},o=function(t,n){var u=t.indexOf(n);u>=0&&(t[u]=t[t.length-1],t.length--)},c=function(t,n){var u=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t,n){return t!==n},u=s(t),e=new Map(Object.entries(null!==u&&void 0!==u?u:{})),i={dispose:[],get:[],set:[],reset:[]},r=function(){var n;e=new Map(Object.entries(null!==(n=s(t))&&void 0!==n?n:{})),i.reset.forEach((function(t){return t()}))},a=function(t){return i.get.forEach((function(n){return n(t)})),e.get(t)},c=function(t,u){var r=e.get(t);n(u,r,t)&&(e.set(t,u),i.set.forEach((function(n){return n(t,u,r)})))},D="undefined"===typeof Proxy?{}:new Proxy(u,{get:function(t,n){return a(n)},ownKeys:function(t){return Array.from(e.keys())},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}},has:function(t,n){return e.has(n)},set:function(t,n,u){return c(n,u),!0}}),f=function(t,n){return i[t].push(n),function(){o(i[t],n)}};return{state:D,get:a,set:c,on:f,onChange:function(n,u){var e=f("set",(function(t,e){t===n&&u(e)})),i=f("reset",(function(){return u(s(t)[n])}));return function(){e(),i()}},use:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];var e=n.reduce((function(t,n){return n.set&&t.push(f("set",n.set)),n.get&&t.push(f("get",n.get)),n.reset&&t.push(f("reset",n.reset)),n.dispose&&t.push(f("dispose",n.dispose)),t}),[]);return function(){return e.forEach((function(t){return t()}))}},dispose:function(){i.dispose.forEach((function(t){return t()})),r()},reset:r,forceUpdate:function(t){var n=e.get(t);i.set.forEach((function(u){return u(t,n,n)}))}}}(t,n);return u.use(function(){if("function"!==typeof i.a)return{};var t=new Map;return{dispose:function(){return t.clear()},get:function(n){var u=(0,i.a)();u&&function(t,n,u){var e=t.get(n);e?e.includes(u)||e.push(u):t.set(n,[u])}(t,n,u)},set:function(n){var u=t.get(n);u&&t.set(n,u.filter(i.f)),a(t)},reset:function(){t.forEach((function(t){return t.forEach(i.f)})),a(t)}}}()),u}({}),D=c.state,f=c.onChange},9013:function(t,n,u){u.d(n,{a:function(){return r},f:function(){return a},g:function(){return s},h:function(){return i},s:function(){return e}});var e=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return null==t?"":t.length>n?"".concat(t.substring(0,n),"..."):t},i=function(t){return/^(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8])+$/.test(t)&&!/^\d+$/.test(t)},r=function(t){return(null===t||void 0===t?void 0:t.trim().toLowerCase().startsWith("javascript:"))?"https://dyte.io":t},a=function(t){return""===(t=null===t||void 0===t?void 0:t.trim())?"Participant":t};function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t.replace(/[^\u00BF-\u1FFF\u2C00-\uD7FF\w\s]/g,"").trim().split(/\s+/).slice(0,n).map((function(t){return t.charAt(0)})).join("").toUpperCase()}}}]);
//# sourceMappingURL=3718.10edc70d.chunk.js.map