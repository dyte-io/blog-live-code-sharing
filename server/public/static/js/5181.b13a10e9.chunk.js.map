{"version":3,"file":"static/js/5181.b13a10e9.chunk.js","mappings":"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","sources":["../node_modules/@dytesdk/ui-kit/dist/esm/dyte-participants-toggle.entry.js","../node_modules/@dytesdk/ui-kit/dist/esm/index-2b010b0f.js","../node_modules/@dytesdk/ui-kit/dist/esm/store-183b9cab.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host } from './index-60449c9e.js';\nimport { d as defaultIconPack } from './default-language-95a0d199.js';\nimport { u as useLanguage } from './index-2b010b0f.js';\nimport { o as onChange, s as state } from './store-183b9cab.js';\n\nconst dyteParticipantsToggleCss = \":host{position:relative;display:block;font-family:var(--dyte-font-family, sans-serif)}.waiting-participants-count{position:absolute;right:var(--dyte-space-3, 12px);box-sizing:border-box;padding:var(--dyte-space-0\\\\.5, 2px);-webkit-user-select:none;-moz-user-select:none;user-select:none;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));font-size:12px;display:flex;height:var(--dyte-space-5, 20px);min-width:var(--dyte-space-5, 20px);align-items:center;justify-content:center;border-radius:9999px;z-index:1}:host([variant='horizontal']){display:flex;flex-direction:row-reverse;align-items:center}:host([variant='horizontal']) .waiting-participants-count{right:var(--dyte-space-4, 16px);top:auto}\";\n\nconst DyteParticipantsToggle = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n    this.variant = 'button';\n    this.meeting = undefined;\n    this.states = undefined;\n    this.size = undefined;\n    this.iconPack = defaultIconPack;\n    this.t = useLanguage();\n    this.participantsActive = false;\n    this.waitlistedParticipants = [];\n    this.stageRequestedParticipants = [];\n  }\n  connectedCallback() {\n    this.meetingChanged(this.meeting);\n    this.statesChanged(this.states);\n    onChange('sidebar', () => this.statesChanged());\n  }\n  disconnectedCallback() {\n    if (this.meeting == null)\n      return;\n    this.waitlistedParticipantJoinedListener &&\n      this.meeting.participants.waitlisted.removeListener('participantJoined', this.waitlistedParticipantJoinedListener);\n    this.waitlistedParticipantLeftListener &&\n      this.meeting.participants.waitlisted.removeListener('participantLeft', this.waitlistedParticipantLeftListener);\n    this.peerRequestToJoinStateListener &&\n      this.meeting.participants.joined.removeListener('peerRequestToJoinStage', this.peerRequestToJoinStateListener);\n    this.peerAcceptedToJoinStageListener &&\n      this.meeting.participants.joined.removeListener('peerAcceptedToJoinStage', this.peerAcceptedToJoinStageListener);\n    this.peerRejectedToJoinStageListener &&\n      this.meeting.participants.joined.removeListener('peerRejectedToJoinStage', this.peerRejectedToJoinStageListener);\n    this.peerRejectedToJoinStageListener &&\n      this.meeting.participants.joined.addListener('peerStoppedPresenting', this.peerRejectedToJoinStageListener);\n  }\n  meetingChanged(meeting) {\n    if (meeting == null)\n      return;\n    if (meeting.self.permissions.acceptWaitingRequests) {\n      this.waitlistedParticipants = meeting.participants.waitlisted.toArray();\n      this.waitlistedParticipantJoinedListener = (participant) => {\n        if (!this.waitlistedParticipants.some((p) => p.id === participant.id)) {\n          this.waitlistedParticipants = [...this.waitlistedParticipants, participant];\n        }\n      };\n      this.waitlistedParticipantLeftListener = (participant) => {\n        this.waitlistedParticipants = this.waitlistedParticipants.filter((p) => p.id !== participant.id);\n      };\n      meeting.participants.waitlisted.addListener('participantJoined', this.waitlistedParticipantJoinedListener);\n      meeting.participants.waitlisted.addListener('participantLeft', this.waitlistedParticipantLeftListener);\n    }\n    if (this.meeting.self.permissions.acceptPresentRequests) {\n      this.peerRequestToJoinStateListener = ({ id }) => {\n        // Dedupe\n        this.stageRequestedParticipants = this.stageRequestedParticipants.filter((p) => p.id != id);\n        const participant = meeting.participants.joined.get(id);\n        if (participant !== undefined)\n          this.stageRequestedParticipants.push(participant);\n      };\n      this.peerAcceptedToJoinStageListener = ({ id }) => {\n        this.stageRequestedParticipants = this.stageRequestedParticipants.filter((p) => p.id != id);\n      };\n      this.peerRejectedToJoinStageListener = ({ id }) => {\n        this.stageRequestedParticipants = this.stageRequestedParticipants.filter((p) => p.id != id);\n      };\n      this.stageRequestedParticipants = this.meeting.participants.joined\n        .toArray()\n        .filter((p) => p.webinarStageStatus === 'REQUESTED_TO_JOIN_STAGE');\n      meeting.participants.joined.addListener('peerRequestToJoinStage', this.peerRequestToJoinStateListener);\n      meeting.participants.joined.addListener('peerAcceptedToJoinStage', this.peerAcceptedToJoinStageListener);\n      meeting.participants.joined.addListener('peerRejectedToJoinStage', this.peerRejectedToJoinStageListener);\n      meeting.participants.joined.addListener('peerStoppedPresenting', this.peerRejectedToJoinStageListener);\n    }\n  }\n  statesChanged(s) {\n    const states = s || state;\n    if (states != null) {\n      this.participantsActive = states.activeSidebar === true && states.sidebar === 'participants';\n    }\n  }\n  toggleParticipantsTab() {\n    const states = this.states || state;\n    this.participantsActive = !((states === null || states === void 0 ? void 0 : states.activeSidebar) && (states === null || states === void 0 ? void 0 : states.sidebar) === 'participants');\n    state.activeSidebar = this.participantsActive;\n    state.sidebar = this.participantsActive ? 'participants' : 'none';\n    this.stateUpdate.emit({\n      activeSidebar: this.participantsActive,\n      sidebar: this.participantsActive ? 'participants' : 'none',\n      activeMoreMenu: false,\n    });\n    state.activeMoreMenu = false;\n  }\n  render() {\n    var _a, _b, _c;\n    const text = this.t('participants');\n    const config = (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.self.config;\n    const badgeCount = this.waitlistedParticipants.length + this.stageRequestedParticipants.length;\n    if (config && !((_c = (_b = config === null || config === void 0 ? void 0 : config.controlBar) === null || _b === void 0 ? void 0 : _b.elements) === null || _c === void 0 ? void 0 : _c.participants))\n      return;\n    return (h(Host, { title: text }, badgeCount !== 0 && !this.participantsActive && (h(\"div\", { class: \"waiting-participants-count\", part: \"waiting-participants-count\" }, h(\"span\", null, badgeCount <= 100 ? badgeCount : '99+'))), h(\"dyte-controlbar-button\", { part: \"controlbar-button\", size: this.size, iconPack: this.iconPack, t: this.t, class: { active: this.participantsActive }, onClick: () => this.toggleParticipantsTab(), icon: this.iconPack.participants, label: text, variant: this.variant })));\n  }\n  static get watchers() { return {\n    \"meeting\": [\"meetingChanged\"],\n    \"states\": [\"statesChanged\"]\n  }; }\n};\nDyteParticipantsToggle.style = dyteParticipantsToggleCss;\n\nexport { DyteParticipantsToggle as dyte_participants_toggle };\n","import { a as defaultLanguage } from './default-language-95a0d199.js';\n\n// Replace with cdn base path in prod\nconst LANG_BASE_URL = 'http://localhost:5000';\nconst getLangData = async (lang) => {\n  if (lang == null || lang === 'en' || lang.trim() === '') {\n    return defaultLanguage;\n  }\n  try {\n    const res = await fetch(`${LANG_BASE_URL}/${lang}.json`);\n    if (!res.ok) {\n      return defaultLanguage;\n    }\n    // merge fetched language with defaultLanguage to avoid empty properties\n    return Object.assign({}, defaultLanguage, await res.json());\n  }\n  catch (_) {\n    return defaultLanguage;\n  }\n};\n/**\n * Creates an i18n instance from a language dictionary/object.\n * @param lang The language dictionary\n * @returns A function which handles i18n\n */\nconst useLanguage = (lang = defaultLanguage) => {\n  return (key) => {\n    var _a;\n    return (_a = lang[key]) !== null && _a !== void 0 ? _a : key;\n  };\n};\n\nexport { getLangData as g, useLanguage as u };\n","import { a as getRenderingRef, f as forceUpdate } from './index-60449c9e.js';\n\nconst appendToMap = (map, propName, value) => {\n    const items = map.get(propName);\n    if (!items) {\n        map.set(propName, [value]);\n    }\n    else if (!items.includes(value)) {\n        items.push(value);\n    }\n};\nconst debounce = (fn, ms) => {\n    let timeoutId;\n    return (...args) => {\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(() => {\n            timeoutId = 0;\n            fn(...args);\n        }, ms);\n    };\n};\n\n/**\n * Check if a possible element isConnected.\n * The property might not be there, so we check for it.\n *\n * We want it to return true if isConnected is not a property,\n * otherwise we would remove these elements and would not update.\n *\n * Better leak in Edge than to be useless.\n */\nconst isConnected = (maybeElement) => !('isConnected' in maybeElement) || maybeElement.isConnected;\nconst cleanupElements = debounce((map) => {\n    for (let key of map.keys()) {\n        map.set(key, map.get(key).filter(isConnected));\n    }\n}, 2000);\nconst stencilSubscription = () => {\n    if (typeof getRenderingRef !== 'function') {\n        // If we are not in a stencil project, we do nothing.\n        // This function is not really exported by @stencil/core.\n        return {};\n    }\n    const elmsToUpdate = new Map();\n    return {\n        dispose: () => elmsToUpdate.clear(),\n        get: (propName) => {\n            const elm = getRenderingRef();\n            if (elm) {\n                appendToMap(elmsToUpdate, propName, elm);\n            }\n        },\n        set: (propName) => {\n            const elements = elmsToUpdate.get(propName);\n            if (elements) {\n                elmsToUpdate.set(propName, elements.filter(forceUpdate));\n            }\n            cleanupElements(elmsToUpdate);\n        },\n        reset: () => {\n            elmsToUpdate.forEach((elms) => elms.forEach(forceUpdate));\n            cleanupElements(elmsToUpdate);\n        },\n    };\n};\n\nconst unwrap = (val) => (typeof val === 'function' ? val() : val);\nconst createObservableMap = (defaultState, shouldUpdate = (a, b) => a !== b) => {\n    const unwrappedState = unwrap(defaultState);\n    let states = new Map(Object.entries(unwrappedState !== null && unwrappedState !== void 0 ? unwrappedState : {}));\n    const handlers = {\n        dispose: [],\n        get: [],\n        set: [],\n        reset: [],\n    };\n    const reset = () => {\n        var _a;\n        // When resetting the state, the default state may be a function - unwrap it to invoke it.\n        // otherwise, the state won't be properly reset\n        states = new Map(Object.entries((_a = unwrap(defaultState)) !== null && _a !== void 0 ? _a : {}));\n        handlers.reset.forEach((cb) => cb());\n    };\n    const dispose = () => {\n        // Call first dispose as resetting the state would\n        // cause less updates ;)\n        handlers.dispose.forEach((cb) => cb());\n        reset();\n    };\n    const get = (propName) => {\n        handlers.get.forEach((cb) => cb(propName));\n        return states.get(propName);\n    };\n    const set = (propName, value) => {\n        const oldValue = states.get(propName);\n        if (shouldUpdate(value, oldValue, propName)) {\n            states.set(propName, value);\n            handlers.set.forEach((cb) => cb(propName, value, oldValue));\n        }\n    };\n    const state = (typeof Proxy === 'undefined'\n        ? {}\n        : new Proxy(unwrappedState, {\n            get(_, propName) {\n                return get(propName);\n            },\n            ownKeys(_) {\n                return Array.from(states.keys());\n            },\n            getOwnPropertyDescriptor() {\n                return {\n                    enumerable: true,\n                    configurable: true,\n                };\n            },\n            has(_, propName) {\n                return states.has(propName);\n            },\n            set(_, propName, value) {\n                set(propName, value);\n                return true;\n            },\n        }));\n    const on = (eventName, callback) => {\n        handlers[eventName].push(callback);\n        return () => {\n            removeFromArray(handlers[eventName], callback);\n        };\n    };\n    const onChange = (propName, cb) => {\n        const unSet = on('set', (key, newValue) => {\n            if (key === propName) {\n                cb(newValue);\n            }\n        });\n        // We need to unwrap the defaultState because it might be a function.\n        // Otherwise we might not be sending the right reset value.\n        const unReset = on('reset', () => cb(unwrap(defaultState)[propName]));\n        return () => {\n            unSet();\n            unReset();\n        };\n    };\n    const use = (...subscriptions) => {\n        const unsubs = subscriptions.reduce((unsubs, subscription) => {\n            if (subscription.set) {\n                unsubs.push(on('set', subscription.set));\n            }\n            if (subscription.get) {\n                unsubs.push(on('get', subscription.get));\n            }\n            if (subscription.reset) {\n                unsubs.push(on('reset', subscription.reset));\n            }\n            if (subscription.dispose) {\n                unsubs.push(on('dispose', subscription.dispose));\n            }\n            return unsubs;\n        }, []);\n        return () => unsubs.forEach((unsub) => unsub());\n    };\n    const forceUpdate = (key) => {\n        const oldValue = states.get(key);\n        handlers.set.forEach((cb) => cb(key, oldValue, oldValue));\n    };\n    return {\n        state,\n        get,\n        set,\n        on,\n        onChange,\n        use,\n        dispose,\n        reset,\n        forceUpdate,\n    };\n};\nconst removeFromArray = (array, item) => {\n    const index = array.indexOf(item);\n    if (index >= 0) {\n        array[index] = array[array.length - 1];\n        array.length--;\n    }\n};\n\nconst createStore = (defaultState, shouldUpdate) => {\n    const map = createObservableMap(defaultState, shouldUpdate);\n    map.use(stencilSubscription());\n    return map;\n};\n\nconst { state, onChange } = createStore({});\n\nexport { onChange as o, state as s };\n"],"names":["DyteParticipantsToggle","hostRef","_classCallCheck","registerInstance","this","stateUpdate","createEvent","variant","meeting","undefined","states","size","iconPack","defaultIconPack","t","useLanguage","participantsActive","waitlistedParticipants","stageRequestedParticipants","_createClass","key","value","_this","meetingChanged","statesChanged","onChange","waitlistedParticipantJoinedListener","participants","waitlisted","removeListener","waitlistedParticipantLeftListener","peerRequestToJoinStateListener","joined","peerAcceptedToJoinStageListener","peerRejectedToJoinStageListener","addListener","_this2","self","permissions","acceptWaitingRequests","toArray","participant","some","p","id","concat","_toConsumableArray","filter","acceptPresentRequests","_ref","get","push","_ref2","_ref3","webinarStageStatus","s","state","activeSidebar","sidebar","emit","activeMoreMenu","_a","_b","_c","_this3","text","config","badgeCount","length","controlBar","elements","h","Host","title","class","part","active","onClick","toggleParticipantsTab","icon","label","style","getLangData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","lang","res","wrap","_context","prev","next","trim","abrupt","defaultLanguage","fetch","sent","ok","t0","Object","t1","t2","json","t3","assign","call","t4","stop","_x","apply","arguments","isConnected","maybeElement","cleanupElements","fn","ms","timeoutId","_len","args","Array","_key","clearTimeout","setTimeout","debounce","map","_step","_iterator","_createForOfIteratorHelper","keys","n","done","set","err","e","f","unwrap","val","removeFromArray","array","item","index","indexOf","_createStore","defaultState","shouldUpdate","a","b","unwrappedState","Map","entries","handlers","dispose","reset","forEach","cb","propName","oldValue","Proxy","_","ownKeys","from","getOwnPropertyDescriptor","enumerable","configurable","has","on","eventName","callback","unSet","newValue","unReset","use","_len2","subscriptions","_key2","unsubs","reduce","subscription","unsub","forceUpdate","createObservableMap","getRenderingRef","elmsToUpdate","clear","elm","items","includes","appendToMap","elms","stencilSubscription","createStore"],"sourceRoot":""}