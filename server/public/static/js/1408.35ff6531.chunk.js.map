{"version":3,"file":"static/js/1408.35ff6531.chunk.js","mappings":"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","sources":["../node_modules/@dytesdk/ui-kit/dist/esm/dyte-polls.entry.js","../node_modules/@dytesdk/ui-kit/dist/esm/index-2b010b0f.js","../node_modules/@dytesdk/ui-kit/dist/esm/scroll-8cc79809.js"],"sourcesContent":["import { r as registerInstance, h, H as Host } from './index-60449c9e.js';\nimport { d as defaultConfig } from './default-ui-config-5c37753d.js';\nimport { d as defaultIconPack } from './default-language-95a0d199.js';\nimport { u as useLanguage } from './index-2b010b0f.js';\nimport './graceful-storage-33bc316d.js';\nimport { s as smoothScrollToBottom } from './scroll-8cc79809.js';\n\nconst dytePollsCss = \".scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{margin-top:var(--dyte-space-2, 8px);display:flex;height:100%;width:100%;flex-direction:column;font-family:var(--dyte-font-family, sans-serif);font-size:14px}*{box-sizing:border-box}.ctr{box-sizing:border-box;padding:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-0, 0px);display:flex;flex:1 1 0%;flex-direction:column}.polls-view{overflow-y:auto;flex:1 1 0%;flex-basis:0}\";\n\nconst DytePolls = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.onPollsUpdate = (data) => {\n      this.polls = [...data.polls];\n    };\n    this.meeting = undefined;\n    this.config = defaultConfig;\n    this.size = undefined;\n    this.iconPack = defaultIconPack;\n    this.t = useLanguage();\n    this.create = false;\n    this.polls = undefined;\n  }\n  connectedCallback() {\n    this.meetingChanged(this.meeting);\n  }\n  disconnectedCallback() {\n    var _a;\n    if (this.meeting == null)\n      return;\n    (_a = this.meeting.polls) === null || _a === void 0 ? void 0 : _a.removeListener('pollsUpdate', this.onPollsUpdate);\n  }\n  meetingChanged(meeting) {\n    if (meeting == undefined)\n      return;\n    if (meeting && !meeting.polls)\n      return;\n    this.polls = [...meeting.polls.items];\n    meeting.polls.addListener('pollsUpdate', this.onPollsUpdate);\n    this.onCreate = async (data) => {\n      this.create = false;\n      await meeting.polls.create(data.question, data.options, data.anonymous, data.hideVotes);\n    };\n    this.onVote = async (id, index) => {\n      await meeting.polls.vote(id, index);\n    };\n  }\n  toggleCreateState() {\n    this.create = !this.create;\n  }\n  componentDidRender() {\n    smoothScrollToBottom(this.pollEl);\n  }\n  render() {\n    return (h(Host, null, h(\"div\", { class: \"ctr\", part: \"container\" }, h(\"div\", { class: \"polls-view scrollbar\", ref: (el) => (this.pollEl = el), part: \"polls\" }, this.polls.map((item) => {\n      var _a;\n      return (h(\"dyte-poll\", { key: item.id, poll: item, onDyteVotePoll: (e) => {\n          this.onVote(e.detail.id, e.detail.index);\n        }, self: (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.self.userId, iconPack: this.iconPack, t: this.t, permissions: this.meeting.self.permissions }));\n    }), this.create && (h(\"dyte-poll-form\", { part: \"poll-form\", onDyteCreatePoll: (e) => {\n        this.onCreate(e.detail);\n      }, iconPack: this.iconPack, t: this.t }))), this.meeting.self.permissions.polls.canCreate && (h(\"dyte-button\", { kind: \"wide\", onClick: () => this.toggleCreateState(), variant: this.create ? 'secondary' : 'primary', part: \"button\", iconPack: this.iconPack, t: this.t }, this.create ? this.t('Cancel Poll Creation') : this.t('Create New Poll'))))));\n  }\n  static get watchers() { return {\n    \"meeting\": [\"meetingChanged\"]\n  }; }\n};\nDytePolls.style = dytePollsCss;\n\nexport { DytePolls as dyte_polls };\n","import { a as defaultLanguage } from './default-language-95a0d199.js';\n\n// Replace with cdn base path in prod\nconst LANG_BASE_URL = 'http://localhost:5000';\nconst getLangData = async (lang) => {\n  if (lang == null || lang === 'en' || lang.trim() === '') {\n    return defaultLanguage;\n  }\n  try {\n    const res = await fetch(`${LANG_BASE_URL}/${lang}.json`);\n    if (!res.ok) {\n      return defaultLanguage;\n    }\n    // merge fetched language with defaultLanguage to avoid empty properties\n    return Object.assign({}, defaultLanguage, await res.json());\n  }\n  catch (_) {\n    return defaultLanguage;\n  }\n};\n/**\n * Creates an i18n instance from a language dictionary/object.\n * @param lang The language dictionary\n * @returns A function which handles i18n\n */\nconst useLanguage = (lang = defaultLanguage) => {\n  return (key) => {\n    var _a;\n    return (_a = lang[key]) !== null && _a !== void 0 ? _a : key;\n  };\n};\n\nexport { getLangData as g, useLanguage as u };\n","/**\n * Scroll to bottom of an element.\n *\n * Works in all browsers - just that in Safari, the smooth scrolling doesn't work.\n * @param el The bottom of which element you want to scroll down to\n */\nconst smoothScrollToBottom = (el, smooth = true) => {\n  if (el == null)\n    return;\n  el.scrollTo({ top: el.scrollHeight, behavior: smooth ? 'smooth' : 'auto' });\n};\n\nexport { smoothScrollToBottom as s };\n"],"names":["DytePolls","hostRef","_this","_classCallCheck","registerInstance","this","onPollsUpdate","data","polls","_toConsumableArray","meeting","undefined","config","defaultConfig","size","iconPack","defaultIconPack","t","useLanguage","create","_createClass","key","value","meetingChanged","_a","removeListener","_this2","items","addListener","onCreate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","question","options","anonymous","hideVotes","stop","_x","apply","arguments","onVote","_ref2","_callee2","id","index","_context2","vote","_x2","_x3","smoothScrollToBottom","pollEl","_this3","h","Host","class","part","ref","el","map","item","poll","onDyteVotePoll","e","detail","self","userId","permissions","onDyteCreatePoll","canCreate","kind","onClick","toggleCreateState","variant","get","style","getLangData","lang","res","trim","abrupt","defaultLanguage","fetch","concat","sent","ok","t0","Object","t1","t2","json","t3","assign","call","t4","length","smooth","scrollTo","top","scrollHeight","behavior"],"sourceRoot":""}