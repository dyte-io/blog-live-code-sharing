{"version":3,"file":"static/js/9361.377c6141.chunk.js","mappings":"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","sources":["../node_modules/@dytesdk/ui-kit/dist/esm/dyte-participant-tile.entry.js","../node_modules/@dytesdk/ui-kit/dist/esm/flags-abd72beb.js","../node_modules/@dytesdk/ui-kit/dist/esm/index-2b010b0f.js","../node_modules/@dytesdk/ui-kit/dist/esm/pipStore-094537d3.js","../node_modules/@dytesdk/ui-kit/dist/esm/store-183b9cab.js"],"sourcesContent":["import { r as registerInstance, h, H as Host } from './index-60449c9e.js';\nimport { s as state } from './store-183b9cab.js';\nimport { d as defaultIconPack } from './default-language-95a0d199.js';\nimport { u as useLanguage } from './index-2b010b0f.js';\nimport { s as store } from './pipStore-094537d3.js';\nimport { F as FlagsmithFeatureFlags } from './flags-abd72beb.js';\n\nconst dyteParticipantTileCss = \":host{position:relative;display:flex;align-items:center;justify-content:center;font-family:var(--dyte-font-family, sans-serif);aspect-ratio:16 / 9;height:var(--dyte-space-56, 224px);overflow:hidden;border-radius:var(--dyte-border-radius-lg, 12px);-webkit-user-select:none;-moz-user-select:none;user-select:none;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity));transition-property:var(--dyte-transition-property, all);transition-duration:150ms}@media (prefers-reduced-motion){:host{--dyte-transition-property:none}}::slotted(dyte-name-tag){position:absolute;left:var(--dyte-space-3, 12px);bottom:var(--dyte-space-3, 12px)}:host([size='sm'][variant='solid']) ::slotted(dyte-name-tag){left:var(--dyte-space-2, 8px);bottom:var(--dyte-space-2, 8px);height:var(--dyte-space-4, 16px)}video{display:none;position:absolute;height:100%;width:100%;border-radius:var(--dyte-border-radius-lg, 12px)}video.contain{-o-object-fit:contain;object-fit:contain}video.cover{-o-object-fit:cover;object-fit:cover}video.visible{display:block}video::-webkit-media-controls{display:none !important}.pinned-icon{position:absolute;left:var(--dyte-space-3, 12px);top:var(--dyte-space-3, 12px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);padding:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([size='sm']) .pinned-icon{top:var(--dyte-space-2, 8px);left:var(--dyte-space-2, 8px)}:host([variant='gradient']) ::slotted(dyte-audio-visualizer){position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));padding:var(--dyte-space-2, 8px)}:host([variant='gradient']) ::slotted(dyte-name-tag){bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);display:flex;width:100%;align-items:center;justify-content:center;text-align:center;background-color:transparent;background-image:linear-gradient(to top, var(--tw-gradient-stops));--tw-gradient-from:rgb(var(--dyte-colors-background-1000, 8 8 8));--tw-gradient-to:rgba(var(--dyte-colors-background-1000, 8 8 8) / 0);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to:transparent}video.mirror{transform:scaleX(-1)}:host([name-tag-position='bottom-right']) ::slotted(dyte-name-tag){left:auto;right:var(--dyte-space-3, 12px)}:host([name-tag-position='bottom-center']) ::slotted(dyte-name-tag){left:auto;right:auto}:host([name-tag-position='top-left']) ::slotted(dyte-name-tag){top:var(--dyte-space-3, 12px);bottom:auto}:host([name-tag-position='top-right']) ::slotted(dyte-name-tag){top:var(--dyte-space-3, 12px);right:var(--dyte-space-3, 12px);left:auto;bottom:auto}:host([name-tag-position='top-center']) ::slotted(dyte-name-tag){left:auto;right:auto;bottom:auto;top:var(--dyte-space-3, 12px)}\";\n\nconst DyteParticipantTile = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.onVideoUpdate = (videoState) => {\n      this.videoState = videoState;\n      if (this.participant == null)\n        return;\n      if (videoState.videoEnabled) {\n        store.enableSource(this.participant.id);\n      }\n      else {\n        store.disableSource(this.participant.id);\n      }\n    };\n    this.onPinned = ({ isPinned }) => {\n      this.isPinned = isPinned;\n    };\n    this.isSelf = () => { var _a; return this.isPreview || this.participant.id === ((_a = this.meeting) === null || _a === void 0 ? void 0 : _a.self.id); };\n    this.videoState = undefined;\n    this.isPinned = false;\n    this.nameTagPosition = 'bottom-left';\n    this.isPreview = false;\n    this.participant = undefined;\n    this.meeting = undefined;\n    this.states = undefined;\n    this.config = undefined;\n    this.variant = 'solid';\n    this.size = undefined;\n    this.iconPack = defaultIconPack;\n    this.t = useLanguage();\n  }\n  onVideoRef(el) {\n    this.videoEl = el;\n    if (this.isPreview || this.participant == null) {\n      return;\n    }\n    store.addSource(this.participant.id, this.videoEl, this.participant.videoEnabled);\n    if (this.participant.videoEnabled) {\n      store.enableSource(this.participant.id);\n    }\n  }\n  connectedCallback() {\n    // set videoState before initial render and initialize listeners\n    this.participantsChanged(this.participant);\n  }\n  componentDidLoad() {\n    // load videoState into video element after first render\n    this.videoStateChanged(this.videoState);\n  }\n  disconnectedCallback() {\n    if (this.participant == null)\n      return;\n    this.participant.removeListener('videoUpdate', this.onVideoUpdate);\n    this.participant.removeListener('pinned', this.onPinned);\n    this.participant.removeListener('unpinned', this.onPinned);\n    store.removeSource(this.participant.id);\n  }\n  participantsChanged(participant) {\n    if (participant != null) {\n      this.videoState = {\n        videoEnabled: participant.videoEnabled,\n        videoTrack: participant.videoTrack,\n      };\n      this.isPinned = participant.isPinned;\n      participant.addListener('videoUpdate', this.onVideoUpdate);\n      participant.addListener('pinned', this.onPinned);\n      participant.addListener('unpinned', this.onPinned);\n    }\n  }\n  videoStateChanged(videoState) {\n    if (videoState != null && this.videoEl != null) {\n      if (videoState.videoEnabled) {\n        const stream = new MediaStream();\n        if (videoState.videoTrack == null)\n          return;\n        stream.addTrack(videoState.videoTrack);\n        this.videoEl.srcObject = stream;\n      }\n      else {\n        this.videoEl.srcObject = undefined;\n      }\n    }\n  }\n  isMirrored() {\n    var _a;\n    if (this.participant != null) {\n      if (this.isSelf()) {\n        const states = this.states || state;\n        const mirrorVideo = (_a = states === null || states === void 0 ? void 0 : states.prefs) === null || _a === void 0 ? void 0 : _a.mirrorVideo;\n        if (typeof mirrorVideo === 'boolean') {\n          return mirrorVideo;\n        }\n      }\n    }\n    return false;\n  }\n  render() {\n    var _a, _b, _c, _d;\n    return (h(Host, null, h(\"video\", { ref: (el) => this.onVideoRef(el), class: {\n        visible: (_a = this.videoState) === null || _a === void 0 ? void 0 : _a.videoEnabled,\n        mirror: this.isMirrored(),\n        [(_d = (_c = (_b = this.config) === null || _b === void 0 ? void 0 : _b.config) === null || _c === void 0 ? void 0 : _c.videoFit) !== null && _d !== void 0 ? _d : 'cover']: true,\n      }, onPause: (event) => {\n        var _a, _b;\n        if (this.isSelf() &&\n          ((_a = this.meeting) === null || _a === void 0 ? void 0 : _a.__internals__.features.hasFeature(FlagsmithFeatureFlags.PLAY_PARTICIPANT_TILE_VIDEO_ON_PAUSE))) {\n          this.meeting.__internals__.logger.warn(`Video player paused for ${this.participant.id} isSelf: ${this.isSelf()}`);\n          // @ts-ignore\n          (_b = event === null || event === void 0 ? void 0 : event.target) === null || _b === void 0 ? void 0 : _b.play();\n        }\n      }, autoPlay: true, playsInline: true, muted: true }), this.isPinned && (h(\"dyte-icon\", { class: \"pinned-icon\", icon: this.iconPack.pin, \"aria-label\": this.t('Pinned'), iconPack: this.iconPack, t: this.t })), h(\"slot\", null)));\n  }\n  static get watchers() { return {\n    \"participant\": [\"participantsChanged\"],\n    \"videoState\": [\"videoStateChanged\"]\n  }; }\n};\nDyteParticipantTile.style = dyteParticipantTileCss;\n\nexport { DyteParticipantTile as dyte_participant_tile };\n","const FlagsmithFeatureFlags = {\n  PLAY_PARTICIPANT_TILE_VIDEO_ON_PAUSE: 'play_participant_tile_video_on_pause',\n  DISABLE_EMOJI_PICKER: 'disable_emoji_picker',\n};\n\nexport { FlagsmithFeatureFlags as F };\n","import { a as defaultLanguage } from './default-language-95a0d199.js';\n\n// Replace with cdn base path in prod\nconst LANG_BASE_URL = 'http://localhost:5000';\nconst getLangData = async (lang) => {\n  if (lang == null || lang === 'en' || lang.trim() === '') {\n    return defaultLanguage;\n  }\n  try {\n    const res = await fetch(`${LANG_BASE_URL}/${lang}.json`);\n    if (!res.ok) {\n      return defaultLanguage;\n    }\n    // merge fetched language with defaultLanguage to avoid empty properties\n    return Object.assign({}, defaultLanguage, await res.json());\n  }\n  catch (_) {\n    return defaultLanguage;\n  }\n};\n/**\n * Creates an i18n instance from a language dictionary/object.\n * @param lang The language dictionary\n * @returns A function which handles i18n\n */\nconst useLanguage = (lang = defaultLanguage) => {\n  return (key) => {\n    var _a;\n    return (_a = lang[key]) !== null && _a !== void 0 ? _a : key;\n  };\n};\n\nexport { getLangData as g, useLanguage as u };\n","const PIP_CANVAS_HEIGHT = 720;\nconst PIP_CANVAS_WIDTH = 1280;\nconst PIP_CANVAS_FILL = '#000000';\nconst calcGridElemSize = (gridSize) => {\n  switch (gridSize) {\n    case 0:\n    case 1:\n      return [PIP_CANVAS_WIDTH, PIP_CANVAS_HEIGHT];\n    case 2:\n      return [Math.floor(PIP_CANVAS_WIDTH / 2), PIP_CANVAS_HEIGHT];\n    case 3:\n    case 4:\n      return [Math.floor(PIP_CANVAS_WIDTH / 2), Math.floor(PIP_CANVAS_HEIGHT / 2)];\n    case 5:\n    case 6:\n      return [Math.floor(PIP_CANVAS_WIDTH / 3), Math.floor(PIP_CANVAS_HEIGHT / 2)];\n    default:\n      return [Math.floor(PIP_CANVAS_WIDTH / 3), Math.floor(PIP_CANVAS_HEIGHT / 2)];\n  }\n};\nconst calcImageCrop = (x, y, w, h, videoW, videoH) => {\n  // default offset is center\n  let offsetX = 0.5;\n  let offsetY = 0.5;\n  const iw = videoW;\n  const ih = videoH;\n  const r = Math.min(w / iw, h / ih);\n  let nw = iw * r; // new prop. width\n  let nh = ih * r; // new prop. height\n  let cx;\n  let cy;\n  let cw;\n  let ch;\n  let ar = 1;\n  // decide which gap to fill\n  if (nw < w)\n    ar = w / nw;\n  if (Math.abs(ar - 1) < 1e-14 && nh < h)\n    ar = h / nh; // updated\n  nw *= ar;\n  nh *= ar;\n  // calc source rectangle\n  cw = iw / (nw / w);\n  ch = ih / (nh / h);\n  cx = (iw - cw) * offsetX;\n  cy = (ih - ch) * offsetY;\n  // make sure source rectangle is valid\n  if (cx < 0)\n    cx = 0;\n  if (cy < 0)\n    cy = 0;\n  if (cw > iw)\n    cw = iw;\n  if (ch > ih)\n    ch = ih;\n  // fill image in dest. rectangle\n  return [cx, cy, cw, ch, x, y, w, h];\n};\nvar PiPEvents;\n(function (PiPEvents) {\n  PiPEvents[\"CAMERA\"] = \"CAMERA\";\n  PiPEvents[\"MIC\"] = \"MIC\";\n  PiPEvents[\"END\"] = \"END\";\n})(PiPEvents || (PiPEvents = {}));\nclass PipStore {\n  constructor() {\n    this.tracks = [];\n    this.sources = [];\n    this.enabled = false;\n  }\n  isSupported() {\n    return !!window.chrome && document.pictureInPictureEnabled;\n  }\n  cleanup() {\n    if (this.isSupported() &&\n      document.exitPictureInPicture !== undefined &&\n      document.pictureInPictureElement !== null) {\n      document.exitPictureInPicture();\n    }\n    this.canvas = undefined;\n    this.video = undefined;\n    this.tracks = [];\n    this.request = undefined;\n  }\n  createCanvas() {\n    const c = document.createElement('canvas');\n    c.height = PIP_CANVAS_HEIGHT;\n    c.width = PIP_CANVAS_WIDTH;\n    this.canvas = c;\n  }\n  setupEvents(onEvent) {\n    if (navigator.mediaSession === undefined ||\n      navigator.mediaSession.setCameraActive === undefined) {\n      return;\n    }\n    navigator.mediaSession.setActionHandler('togglemicrophone', () => {\n      onEvent(PiPEvents.MIC);\n    });\n    navigator.mediaSession.setActionHandler('togglecamera', () => {\n      onEvent(PiPEvents.CAMERA);\n    });\n    navigator.mediaSession.setActionHandler('hangup', () => {\n      onEvent(PiPEvents.END);\n    });\n  }\n  drawGrid(gridW, gridH, gridSize) {\n    if (this.canvas === undefined)\n      return;\n    const ctx = this.canvas.getContext('2d');\n    // Reset the canvas\n    ctx.fillStyle = PIP_CANVAS_FILL;\n    ctx.fillRect(0, 0, PIP_CANVAS_WIDTH, PIP_CANVAS_HEIGHT);\n    let pointerY = 0;\n    let i = 0;\n    while (pointerY < PIP_CANVAS_HEIGHT - 5) {\n      let pointerX = 0;\n      while (pointerX < PIP_CANVAS_WIDTH - 5 && i < gridSize) {\n        const videoElem = this.tracks[i];\n        const [cx, cy, cw, ch, x, y, w, h] = calcImageCrop(pointerX, pointerY, gridW, gridH, videoElem.videoWidth, videoElem.videoHeight);\n        ctx.drawImage(videoElem, cx, cy, cw, ch, x, y, w, h);\n        i += 1;\n        pointerX += gridW;\n      }\n      pointerY += gridH;\n    }\n  }\n  paintCanvas() {\n    const gridSize = this.tracks.length;\n    const [gridW, gridH] = calcGridElemSize(gridSize);\n    this.drawGrid(gridW, gridH, gridSize);\n  }\n  animate() {\n    if (this.tracks !== undefined) {\n      this.paintCanvas();\n    }\n    if (this.request !== undefined) {\n      this.request = requestAnimationFrame(() => this.animate());\n    }\n  }\n  /**\n   * Create a PiP store and prepare sources\n   * @param onReady method to trigger when video stream is ready\n   * @param onStop method to trigger when PiP is stopped\n   * @param onEvent method to trigger on PiP media session\n   */\n  create(onReady, onStop, onEvent) {\n    this.cleanup();\n    this.createCanvas();\n    this.setupEvents(onEvent);\n    const target = document.createElement('video');\n    target.height = PIP_CANVAS_HEIGHT;\n    target.width = PIP_CANVAS_WIDTH;\n    target.autoplay = true;\n    target.srcObject = this.canvas.captureStream(24);\n    this.video = target;\n    this.video.onloadedmetadata = () => {\n      try {\n        onReady();\n        this.video.onleavepictureinpicture = () => {\n          onStop();\n        };\n      }\n      catch (err) {\n        onStop(err.getMessage());\n      }\n    };\n    this.paintCanvas();\n  }\n  updateMediaSession(event, state) {\n    if (navigator.mediaSession === undefined)\n      return;\n    if (event === PiPEvents.CAMERA &&\n      navigator.mediaSession.setCameraActive !== undefined) {\n      navigator.mediaSession.setCameraActive(state);\n    }\n    if (event === PiPEvents.MIC &&\n      navigator.mediaSession.setMicrophoneActive !== undefined) {\n      navigator.mediaSession.setMicrophoneActive(state);\n    }\n  }\n  /**\n   * Update the active streams to show on grid\n   * @param sources list of participants to show on grid\n   */\n  updateVideoSources() {\n    const enabledSources = Object.values(this.sources).filter((t) => t.enabled);\n    const tracks = [];\n    enabledSources.map((sou) => {\n      tracks.push(sou.element);\n    });\n    this.tracks = tracks;\n  }\n  enableSource(source) {\n    if (this.sources[source] !== undefined) {\n      this.sources[source].enabled = true;\n    }\n    this.updateVideoSources();\n  }\n  disableSource(source) {\n    if (this.sources[source] !== undefined) {\n      this.sources[source].enabled = false;\n    }\n    this.updateVideoSources();\n  }\n  /**\n   * Add a video source from the participant grid\n   * @param id participant id to store the video against\n   * @param element HTMLVideoElement for the video source\n   */\n  addSource(id, element, enabled) {\n    this.sources[id] = { element, enabled };\n  }\n  /**\n   * Remove the video source for the participant\n   * @param id participant id\n   */\n  removeSource(id) {\n    delete this.sources[id];\n  }\n  /**\n   * Remove all sources\n   */\n  removeAllSource() {\n    this.sources = [];\n  }\n  /**\n   * Enable PiP\n   */\n  enable() {\n    this.enabled = true;\n    // Repaint canvas in loop\n    this.request = requestAnimationFrame(() => this.animate());\n    this.video.requestPictureInPicture();\n  }\n  /**\n   * Enable PiP\n   */\n  disable() {\n    this.enabled = false;\n    cancelAnimationFrame(this.request);\n    this.request = undefined;\n    document.exitPictureInPicture();\n  }\n}\nconst store = new PipStore();\n\nexport { PiPEvents as P, store as s };\n","import { a as getRenderingRef, f as forceUpdate } from './index-60449c9e.js';\n\nconst appendToMap = (map, propName, value) => {\n    const items = map.get(propName);\n    if (!items) {\n        map.set(propName, [value]);\n    }\n    else if (!items.includes(value)) {\n        items.push(value);\n    }\n};\nconst debounce = (fn, ms) => {\n    let timeoutId;\n    return (...args) => {\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(() => {\n            timeoutId = 0;\n            fn(...args);\n        }, ms);\n    };\n};\n\n/**\n * Check if a possible element isConnected.\n * The property might not be there, so we check for it.\n *\n * We want it to return true if isConnected is not a property,\n * otherwise we would remove these elements and would not update.\n *\n * Better leak in Edge than to be useless.\n */\nconst isConnected = (maybeElement) => !('isConnected' in maybeElement) || maybeElement.isConnected;\nconst cleanupElements = debounce((map) => {\n    for (let key of map.keys()) {\n        map.set(key, map.get(key).filter(isConnected));\n    }\n}, 2000);\nconst stencilSubscription = () => {\n    if (typeof getRenderingRef !== 'function') {\n        // If we are not in a stencil project, we do nothing.\n        // This function is not really exported by @stencil/core.\n        return {};\n    }\n    const elmsToUpdate = new Map();\n    return {\n        dispose: () => elmsToUpdate.clear(),\n        get: (propName) => {\n            const elm = getRenderingRef();\n            if (elm) {\n                appendToMap(elmsToUpdate, propName, elm);\n            }\n        },\n        set: (propName) => {\n            const elements = elmsToUpdate.get(propName);\n            if (elements) {\n                elmsToUpdate.set(propName, elements.filter(forceUpdate));\n            }\n            cleanupElements(elmsToUpdate);\n        },\n        reset: () => {\n            elmsToUpdate.forEach((elms) => elms.forEach(forceUpdate));\n            cleanupElements(elmsToUpdate);\n        },\n    };\n};\n\nconst unwrap = (val) => (typeof val === 'function' ? val() : val);\nconst createObservableMap = (defaultState, shouldUpdate = (a, b) => a !== b) => {\n    const unwrappedState = unwrap(defaultState);\n    let states = new Map(Object.entries(unwrappedState !== null && unwrappedState !== void 0 ? unwrappedState : {}));\n    const handlers = {\n        dispose: [],\n        get: [],\n        set: [],\n        reset: [],\n    };\n    const reset = () => {\n        var _a;\n        // When resetting the state, the default state may be a function - unwrap it to invoke it.\n        // otherwise, the state won't be properly reset\n        states = new Map(Object.entries((_a = unwrap(defaultState)) !== null && _a !== void 0 ? _a : {}));\n        handlers.reset.forEach((cb) => cb());\n    };\n    const dispose = () => {\n        // Call first dispose as resetting the state would\n        // cause less updates ;)\n        handlers.dispose.forEach((cb) => cb());\n        reset();\n    };\n    const get = (propName) => {\n        handlers.get.forEach((cb) => cb(propName));\n        return states.get(propName);\n    };\n    const set = (propName, value) => {\n        const oldValue = states.get(propName);\n        if (shouldUpdate(value, oldValue, propName)) {\n            states.set(propName, value);\n            handlers.set.forEach((cb) => cb(propName, value, oldValue));\n        }\n    };\n    const state = (typeof Proxy === 'undefined'\n        ? {}\n        : new Proxy(unwrappedState, {\n            get(_, propName) {\n                return get(propName);\n            },\n            ownKeys(_) {\n                return Array.from(states.keys());\n            },\n            getOwnPropertyDescriptor() {\n                return {\n                    enumerable: true,\n                    configurable: true,\n                };\n            },\n            has(_, propName) {\n                return states.has(propName);\n            },\n            set(_, propName, value) {\n                set(propName, value);\n                return true;\n            },\n        }));\n    const on = (eventName, callback) => {\n        handlers[eventName].push(callback);\n        return () => {\n            removeFromArray(handlers[eventName], callback);\n        };\n    };\n    const onChange = (propName, cb) => {\n        const unSet = on('set', (key, newValue) => {\n            if (key === propName) {\n                cb(newValue);\n            }\n        });\n        // We need to unwrap the defaultState because it might be a function.\n        // Otherwise we might not be sending the right reset value.\n        const unReset = on('reset', () => cb(unwrap(defaultState)[propName]));\n        return () => {\n            unSet();\n            unReset();\n        };\n    };\n    const use = (...subscriptions) => {\n        const unsubs = subscriptions.reduce((unsubs, subscription) => {\n            if (subscription.set) {\n                unsubs.push(on('set', subscription.set));\n            }\n            if (subscription.get) {\n                unsubs.push(on('get', subscription.get));\n            }\n            if (subscription.reset) {\n                unsubs.push(on('reset', subscription.reset));\n            }\n            if (subscription.dispose) {\n                unsubs.push(on('dispose', subscription.dispose));\n            }\n            return unsubs;\n        }, []);\n        return () => unsubs.forEach((unsub) => unsub());\n    };\n    const forceUpdate = (key) => {\n        const oldValue = states.get(key);\n        handlers.set.forEach((cb) => cb(key, oldValue, oldValue));\n    };\n    return {\n        state,\n        get,\n        set,\n        on,\n        onChange,\n        use,\n        dispose,\n        reset,\n        forceUpdate,\n    };\n};\nconst removeFromArray = (array, item) => {\n    const index = array.indexOf(item);\n    if (index >= 0) {\n        array[index] = array[array.length - 1];\n        array.length--;\n    }\n};\n\nconst createStore = (defaultState, shouldUpdate) => {\n    const map = createObservableMap(defaultState, shouldUpdate);\n    map.use(stencilSubscription());\n    return map;\n};\n\nconst { state, onChange } = createStore({});\n\nexport { onChange as o, state as s };\n"],"names":["DyteParticipantTile","hostRef","_this","_classCallCheck","registerInstance","this","onVideoUpdate","videoState","participant","videoEnabled","store","id","onPinned","_ref","isPinned","isSelf","_a","isPreview","meeting","self","undefined","nameTagPosition","states","config","variant","size","iconPack","defaultIconPack","t","useLanguage","_createClass","key","value","el","videoEl","participantsChanged","videoStateChanged","removeListener","videoTrack","addListener","stream","MediaStream","addTrack","srcObject","state","mirrorVideo","prefs","_b","_c","_d","_this2","h","Host","ref","onVideoRef","class","_defineProperty","visible","mirror","isMirrored","videoFit","onPause","event","__internals__","features","hasFeature","FlagsmithFeatureFlags","logger","warn","concat","target","play","autoPlay","playsInline","muted","icon","pin","get","style","PLAY_PARTICIPANT_TILE_VIDEO_ON_PAUSE","DISABLE_EMOJI_PICKER","getLangData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","lang","res","wrap","_context","prev","next","trim","abrupt","defaultLanguage","fetch","sent","ok","t0","Object","t1","t2","json","t3","assign","call","t4","stop","_x","apply","arguments","length","PiPEvents","PIP_CANVAS_HEIGHT","PIP_CANVAS_WIDTH","calcImageCrop","x","y","w","videoW","videoH","cx","cy","cw","ch","iw","ih","r","Math","min","nw","nh","ar","abs","PipStore","tracks","sources","enabled","window","chrome","document","pictureInPictureEnabled","isSupported","exitPictureInPicture","pictureInPictureElement","canvas","video","request","c","createElement","height","width","onEvent","navigator","mediaSession","setCameraActive","setActionHandler","MIC","CAMERA","END","gridW","gridH","gridSize","ctx","getContext","fillStyle","fillRect","pointerY","i","pointerX","videoElem","_calcImageCrop","videoWidth","videoHeight","_calcImageCrop2","_slicedToArray","drawImage","_calcGridElemSize","floor","calcGridElemSize","_calcGridElemSize2","drawGrid","paintCanvas","requestAnimationFrame","animate","onReady","onStop","cleanup","createCanvas","setupEvents","autoplay","captureStream","onloadedmetadata","onleavepictureinpicture","err","getMessage","setMicrophoneActive","enabledSources","values","filter","map","sou","push","element","source","updateVideoSources","_this3","requestPictureInPicture","cancelAnimationFrame","isConnected","maybeElement","cleanupElements","fn","ms","timeoutId","_len","args","Array","_key","clearTimeout","setTimeout","debounce","_step","_iterator","_createForOfIteratorHelper","keys","s","n","done","set","e","f","unwrap","val","removeFromArray","array","item","index","indexOf","_createStore","defaultState","shouldUpdate","a","b","unwrappedState","Map","entries","handlers","dispose","reset","forEach","cb","propName","oldValue","Proxy","_","ownKeys","from","getOwnPropertyDescriptor","enumerable","configurable","has","on","eventName","callback","onChange","unSet","newValue","unReset","use","_len2","subscriptions","_key2","unsubs","reduce","subscription","unsub","forceUpdate","createObservableMap","getRenderingRef","elmsToUpdate","clear","elm","items","includes","appendToMap","elements","elms","stencilSubscription","createStore"],"sourceRoot":""}