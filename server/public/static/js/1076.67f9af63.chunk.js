"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[1076],{1076:function(t,e,n){n.r(e),n.d(e,{dyte_breakout_room_grid:function(){return l}});var r=n(4165),i=n(5861),o=n(5671),a=n(3144),c=n(325),s=n(7239),u=n(859),d=(n(4130),n(5100)),l=function(){function t(e){var n=this;(0,o.Z)(this,t),(0,c.r)(this,e),this.stateUpdate=(0,c.c)(this,"dyteStateUpdate",7),this.editBreakout=function(){var t,e,r;n.stateUpdate.emit({activeBreakoutRoomsManager:{active:!(null===(e=null===(t=n.states)||void 0===t?void 0:t.activeBreakoutRoomsManager)||void 0===e?void 0:e.active),mode:"edit"}}),d.s.activeBreakoutRoomsManager={active:!(null===(r=d.s.activeBreakoutRoomsManager)||void 0===r?void 0:r.active)},n.meeting.connectedMeetings.stateManager.reset(),n.meeting.connectedMeetings.stateManager.init()},this.endBreakout=(0,i.Z)((0,r.Z)().mark((function t(){var e,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={active:!0,icon:n.iconPack.breakout_rooms,title:"Ending Breakout Rooms.",description:"It may take a few moments."},n.stateUpdate.emit({activeOverlayModal:i}),d.s.activeOverlayModal=i,t.next=5,n.meeting.connectedMeetings.deleteConnectedMeetings(null===(e=n.meeting.connectedMeetings.list)||void 0===e?void 0:e.filter((function(t){return"ACTIVE"===t.status})).map((function(t){return t.id})));case 5:n.stateUpdate.emit({activeBreakoutRooms:!1,activeBreakoutRoomGrid:!1,activeOverlayModal:{active:!1}}),d.s.activeBreakoutRooms=!1,d.s.activeBreakoutRoomGrid=!1,d.s.activeOverlayModal={active:!1};case 9:case"end":return t.stop()}}),t)}))),this.closeBreakoutGrid=function(){n.stateUpdate.emit({activeBreakoutRoomGrid:!1}),d.s.activeBreakoutRoomGrid=!1},this.meeting=void 0,this.states=void 0,this.size=void 0,this.iconPack=s.d,this.t=(0,u.u)()}return(0,a.Z)(t,[{key:"render",value:function(){var t,e,n,r,i,o,a=this,s=null===(t=this.meeting.self.permissions)||void 0===t?void 0:t.connectedMeetings,u=null===(n=null===(e=this.meeting.connectedMeetings)||void 0===e?void 0:e.list)||void 0===n?void 0:n.find((function(t){return t.id===a.meeting.meta.roomName}));return(0,c.h)(c.H,null,(0,c.h)("div",{class:"header"},(0,c.h)("p",null,"Breakout Rooms Overview"),(0,c.h)("div",{class:"buttons"},s.canAlterConnectedMeetings&&(0,c.h)("dyte-button",{variant:"ghost",iconPack:this.iconPack,t:this.t},(0,c.h)("div",{class:"button-row",onClick:this.editBreakout},(0,c.h)("dyte-icon",{icon:this.iconPack.edit,iconPack:this.iconPack,t:this.t}),"Edit Breakout")),s.canAlterConnectedMeetings&&(0,c.h)("dyte-button",{variant:"danger",onClick:this.endBreakout,iconPack:this.iconPack,t:this.t},"End Breakout"),(0,c.h)("dyte-button",{kind:"icon",variant:"ghost",onClick:this.closeBreakoutGrid,iconPack:this.iconPack,t:this.t},(0,c.h)("dyte-icon",{icon:this.iconPack.dismiss,iconPack:this.iconPack,t:this.t})))),(0,c.h)("div",{class:"rooms-grid"},(0,c.h)("div",null,(0,c.h)("dyte-breakout-room-tile",{meeting:this.meeting,states:this.states,room:this.meeting.connectedMeetings.parentMeeting,isParent:!0,isCurrent:(null===(r=this.meeting.connectedMeetings.parentMeeting)||void 0===r?void 0:r.id)===this.meeting.meta.roomName,iconPack:this.iconPack,t:this.t}),u&&(0,c.h)("dyte-breakout-room-tile",{meeting:this.meeting,states:this.states,room:u,isCurrent:!0,iconPack:this.iconPack,t:this.t}),null===(o=null===(i=this.meeting.connectedMeetings)||void 0===i?void 0:i.list)||void 0===o?void 0:o.map((function(t){if("ACTIVE"===t.status&&(null===u||void 0===u?void 0:u.id)!==t.id)return(0,c.h)("dyte-breakout-room-tile",{meeting:a.meeting,states:a.states,room:t,isParent:!1,isCurrent:(null===t||void 0===t?void 0:t.id)===a.meeting.meta.roomName,iconPack:a.iconPack,t:a.t})})))))}}]),t}();l.style=":host{display:flex;width:100%;flex-grow:1;flex-direction:column;margin-left:var(--dyte-space-4, 16px);margin-right:var(--dyte-space-4, 16px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));padding:var(--dyte-space-4, 16px);height:100%}.header{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.header p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:500;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}h2{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.buttons{display:flex;flex-direction:row;align-items:center}.buttons dyte-button{margin-left:var(--dyte-space-2, 8px)}.buttons dyte-button:nth-child(1){--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.buttons .button-row{display:flex;flex-direction:row;align-items:center}.buttons .button-row dyte-icon{margin-right:var(--dyte-space-1, 4px);height:var(--dyte-space-4, 16px)}.rooms-grid{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-2, 8px);flex-grow:1;overflow:hidden}.rooms-grid div{display:grid;grid-template-columns:repeat(3, minmax(0, 1fr));overflow-y:scroll;height:94%;grid-gap:16px}.rooms-grid::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.rooms-grid::-webkit-scrollbar-thumb{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}"},859:function(t,e,n){n.d(e,{g:function(){return a},u:function(){return c}});var r=n(4165),i=n(5861),o=n(7239),a=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e&&"en"!==e&&""!==e.trim()){t.next=2;break}return t.abrupt("return",o.a);case 2:return t.prev=2,t.next=5,fetch("".concat("http://localhost:5000","/").concat(e,".json"));case 5:if((n=t.sent).ok){t.next=8;break}return t.abrupt("return",o.a);case 8:return t.t0=Object,t.t1={},t.t2=o.a,t.next=13,n.json();case 13:return t.t3=t.sent,t.abrupt("return",t.t0.assign.call(t.t0,t.t1,t.t2,t.t3));case 17:return t.prev=17,t.t4=t.catch(2),t.abrupt("return",o.a);case 20:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a;return function(e){var n;return null!==(n=t[e])&&void 0!==n?n:e}}},5100:function(t,e,n){n.d(e,{o:function(){return l},s:function(){return d}});var r=n(7762),i=n(325),o=function(t){return!("isConnected"in t)||t.isConnected},a=function(t,e){var n;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){n=0,t.apply(void 0,i)}),e)}}((function(t){var e,n=(0,r.Z)(t.keys());try{for(n.s();!(e=n.n()).done;){var i=e.value;t.set(i,t.get(i).filter(o))}}catch(a){n.e(a)}finally{n.f()}}),2e3),c=function(t){return"function"===typeof t?t():t},s=function(t,e){var n=t.indexOf(e);n>=0&&(t[n]=t[t.length-1],t.length--)},u=function(t,e){var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t,e){return t!==e},n=c(t),r=new Map(Object.entries(null!==n&&void 0!==n?n:{})),i={dispose:[],get:[],set:[],reset:[]},o=function(){var e;r=new Map(Object.entries(null!==(e=c(t))&&void 0!==e?e:{})),i.reset.forEach((function(t){return t()}))},a=function(t){return i.get.forEach((function(e){return e(t)})),r.get(t)},u=function(t,n){var o=r.get(t);e(n,o,t)&&(r.set(t,n),i.set.forEach((function(e){return e(t,n,o)})))},d="undefined"===typeof Proxy?{}:new Proxy(n,{get:function(t,e){return a(e)},ownKeys:function(t){return Array.from(r.keys())},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}},has:function(t,e){return r.has(e)},set:function(t,e,n){return u(e,n),!0}}),l=function(t,e){return i[t].push(e),function(){s(i[t],e)}};return{state:d,get:a,set:u,on:l,onChange:function(e,n){var r=l("set",(function(t,r){t===e&&n(r)})),i=l("reset",(function(){return n(c(t)[e])}));return function(){r(),i()}},use:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.reduce((function(t,e){return e.set&&t.push(l("set",e.set)),e.get&&t.push(l("get",e.get)),e.reset&&t.push(l("reset",e.reset)),e.dispose&&t.push(l("dispose",e.dispose)),t}),[]);return function(){return r.forEach((function(t){return t()}))}},dispose:function(){i.dispose.forEach((function(t){return t()})),o()},reset:o,forceUpdate:function(t){var e=r.get(t);i.set.forEach((function(n){return n(t,e,e)}))}}}(t,e);return n.use(function(){if("function"!==typeof i.a)return{};var t=new Map;return{dispose:function(){return t.clear()},get:function(e){var n=(0,i.a)();n&&function(t,e,n){var r=t.get(e);r?r.includes(n)||r.push(n):t.set(e,[n])}(t,e,n)},set:function(e){var n=t.get(e);n&&t.set(e,n.filter(i.f)),a(t)},reset:function(){t.forEach((function(t){return t.forEach(i.f)})),a(t)}}}()),n}({}),d=u.state,l=u.onChange}}]);
//# sourceMappingURL=1076.67f9af63.chunk.js.map