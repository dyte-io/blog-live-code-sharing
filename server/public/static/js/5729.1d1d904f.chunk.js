"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5729],{5729:function(e,t,n){n.r(t),n.d(t,{dyte_settings_audio:function(){return f},dyte_settings_video:function(){return h}});var i=n(4165),r=n(2982),o=n(5861),a=n(5671),s=n(3144),c=n(325),d=n(7239),u=n(859),l=n(4153),v=n(5100),f=(n(4130),function(){function e(t){(0,a.Z)(this,e),(0,c.r)(this,t),this.stateUpdate=(0,c.c)(this,"dyteStateUpdate",7),this.meeting=void 0,this.states=void 0,this.size=void 0,this.iconPack=d.d,this.t=(0,u.u)(),this.audioDevices=[],this.speakerDevices=[]}return(0,s.Z)(e,[{key:"connectedCallback",value:function(){this.meetingChanged(this.meeting)}},{key:"meetingChanged",value:function(e){var t=this;null!=e&&(0,c.w)((0,o.Z)((0,i.Z)().mark((function n(){var o,a,s,c,d,u,l,v;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.self.getAudioDevices();case 2:return d=n.sent,n.next=5,e.self.getSpeakerDevices();case 5:u=n.sent,l=null===(o=e.self.getCurrentDevices())||void 0===o?void 0:o.audio,v=null===(a=e.self.getCurrentDevices())||void 0===a?void 0:a.speaker,t.audioDevices=void 0!=l?[null!==(s=d.find((function(e){return e.deviceId===l.deviceId})))&&void 0!==s?s:l].concat((0,r.Z)(d.filter((function(e){return e.deviceId!==l.deviceId})))):d,t.speakerDevices=void 0!=v?[null!==(c=u.find((function(e){return e.deviceId===v.deviceId})))&&void 0!==c?c:v].concat((0,r.Z)(u.filter((function(e){return e.deviceId!==v.deviceId})))):u;case 10:case"end":return n.stop()}}),n)}))))}},{key:"testAudio",value:function(){var e;null===(e=this.testAudioEl)||void 0===e||e.play()}},{key:"setDevice",value:function(e,t){var n,i,r="audio"===e?this.audioDevices.find((function(e){return e.deviceId===t})):this.speakerDevices.find((function(e){return e.deviceId===t}));null!=r&&(null===(n=this.meeting)||void 0===n||n.self.setDevice(r),"audiooutput"===r.kind&&(null===(i=this.testAudioEl)||void 0===i||i.setSinkId(r.deviceId)))}},{key:"render",value:function(){var e,t,n,i=this;if(null==this.meeting)return null;var r=0,o=0,a=null===(e=this.meeting)||void 0===e?void 0:e.self.getCurrentDevices(),s=this.states||v.s,d=!0===(null===(t=null===s||void 0===s?void 0:s.prefs)||void 0===t?void 0:t.muteNotificationSounds)||"true"===(0,l.a)("mute-notification-sounds");return(0,c.h)(c.H,null,(0,c.h)("audio",{preload:"auto",src:"https://assets.dyte.io/ui-kit/speaker-test.mp3",ref:function(e){return i.testAudioEl=e}}),(0,c.h)("div",{class:"group",part:"microphone-selection"},(0,c.h)("label",null,"Microphone (input)"),(0,c.h)("div",{class:"row"},(0,c.h)("select",{class:"dyte-select",onChange:function(e){return i.setDevice("audio",e.target.value)}},this.audioDevices.map((function(e){var t,n=e.deviceId,i=e.label;return(0,c.h)("option",{value:n,selected:(null===(t=a.audio)||void 0===t?void 0:t.deviceId)===n},i||"Microphone ".concat(++r))}))),(0,c.h)("dyte-audio-visualizer",{participant:null===(n=this.meeting)||void 0===n?void 0:n.self,iconPack:this.iconPack,t:this.t}))),(0,c.h)("div",{class:"group",part:"speaker-selection"},this.speakerDevices.length>0&&(0,c.h)("div",null,(0,c.h)("label",null,"Speaker (output)"),(0,c.h)("div",{class:"row"},(0,c.h)("select",{class:"dyte-select",onChange:function(e){return i.setDevice("speaker",e.target.value)}},this.speakerDevices.map((function(e){var t,n=e.deviceId,i=e.label;return(0,c.h)("option",{value:n,selected:(null===(t=a.speaker)||void 0===t?void 0:t.deviceId)===n},i||"Speaker ".concat(++o))}))))),(0,c.h)("dyte-button",{variant:"secondary",onClick:function(){return i.testAudio()},iconPack:this.iconPack,t:this.t},(0,c.h)("dyte-icon",{icon:this.iconPack.speaker,slot:"start",iconPack:this.iconPack,t:this.t}),"Test")),(0,c.h)("div",{class:"group",part:"notification-toggle"},(0,c.h)("div",{class:"row"},(0,c.h)("label",{htmlFor:"notification-toggle"},"Notification sound"),(0,c.h)("dyte-switch",{id:"notification-toggle",checked:!d,onDyteChange:function(e){var t,n=!e.target.checked;i.stateUpdate.emit({prefs:{muteNotificationSounds:n}}),v.s.prefs=Object.assign(Object.assign({},null!==(t=v.s.prefs)&&void 0!==t?t:{}),{muteNotificationSounds:n}),(0,l.s)("mute-notification-sounds",n)},iconPack:this.iconPack,t:this.t}))))}}],[{key:"watchers",get:function(){return{meeting:["meetingChanged"]}}}]),e}());f.style=".dyte-select{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.dyte-select:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.dyte-select{display:block;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--dyte-space-3, 12px);font-size:16px;--icon-size:var(--dyte-select-chevron-size, var(--dyte-space-6, 24px));--icon-right-position:var(--dyte-select-chevron-right-position, var(--dyte-space-2, 8px));background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\");background-position:right var(--icon-right-position) center;background-repeat:no-repeat;background-size:var(--icon-size) var(--icon-size);padding-right:calc(var(--icon-right-position) * 5)}:host{display:flex;width:100%;flex-direction:column;font-family:var(--dyte-font-family, sans-serif)}select{font-family:var(--dyte-font-family, sans-serif)}audio{visibility:hidden}label{-webkit-user-select:none;-moz-user-select:none;user-select:none;font-size:14px}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}.row{display:flex;align-items:center;justify-content:space-between;gap:var(--dyte-space-3, 12px)}.dyte-select{width:100%;max-width:100%}dyte-audio-visualizer{flex-shrink:0}dyte-button{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}dyte-button dyte-icon{margin-right:var(--dyte-space-2, 8px)}";var h=function(){function e(t){var n=this;(0,a.Z)(this,e),(0,c.r)(this,t),this.stateUpdate=(0,c.c)(this,"dyteStateUpdate",7),this.onVideoUpdate=function(e){n.videoEnabled=e.videoEnabled},this.meeting=void 0,this.states=void 0,this.size=void 0,this.iconPack=d.d,this.t=(0,u.u)(),this.videoDevices=[],this.currentDevice=void 0,this.videoEnabled=void 0}return(0,s.Z)(e,[{key:"componentDidLoad",value:function(){this.meetingChanged(this.meeting)}},{key:"meetingChanged",value:function(e){var t,n=this;null!=e&&(this.videoEnabled=e.self.videoEnabled,null===(t=e.self)||void 0===t||t.addListener("videoUpdate",this.onVideoUpdate),(0,c.w)((0,o.Z)((0,i.Z)().mark((function t(){var o,a,s,c;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.self.getVideoDevices();case 2:s=t.sent,c=null===(o=e.self.getCurrentDevices())||void 0===o?void 0:o.video,n.videoDevices=void 0!=c?[null!==(a=s.find((function(e){return e.deviceId===c.deviceId})))&&void 0!==a?a:c].concat((0,r.Z)(s.filter((function(e){return e.deviceId!==c.deviceId})))):s;case 5:case"end":return t.stop()}}),t)})))))}},{key:"disconnectedCallback",value:function(){var e;null===(e=this.meeting.self)||void 0===e||e.removeListener("videoUpdate",this.onVideoUpdate)}},{key:"setDevice",value:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.videoDevices.find((function(e){return e.deviceId===t})),this.currentDevice=r,null==r){e.next=5;break}return e.next=5,null===(n=this.meeting)||void 0===n?void 0:n.self.setDevice(r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,n=this;if(null==this.meeting)return null;var i=0,r=this.states||v.s,o=!0===(null===(e=null===r||void 0===r?void 0:r.prefs)||void 0===e?void 0:e.mirrorVideo)||"true"===(0,l.a)("mirror-video");return(0,c.h)(c.H,null,(0,c.h)("div",{class:"group",part:"tile-preview"},!0===this.videoEnabled?(0,c.h)("dyte-participant-tile",{participant:null===(t=this.meeting)||void 0===t?void 0:t.self,iconPack:this.iconPack,t:this.t,states:r,isPreview:!0}):(0,c.h)("div",{class:"camera-off-helper"},(0,c.h)("dyte-participant-tile",{participant:void 0},(0,c.h)("div",null,(0,c.h)("dyte-icon",{id:"icon",icon:this.iconPack.video_off,tabIndex:-1,"aria-hidden":!0,iconPack:this.iconPack,t:this.t}),(0,c.h)("div",null,"Camera is off"))))),(0,c.h)("div",{class:"group",part:"camera-selection"},(0,c.h)("label",null,"Camera"),(0,c.h)("div",{class:"row"},(0,c.h)("select",{class:"dyte-select",onChange:function(e){return n.setDevice(e.target.value)}},this.videoDevices.map((function(e){var t=e.deviceId,n=e.label;return(0,c.h)("option",{value:t},n||"Camera ".concat(++i))}))))),(0,c.h)("div",{class:"group",part:"mirror-toggle"},(0,c.h)("div",{class:"row"},(0,c.h)("label",{htmlFor:"mirror-toggle"},"Mirror my Video"),(0,c.h)("dyte-switch",{checked:o,iconPack:this.iconPack,t:this.t,onDyteChange:function(e){var t,i=e.target.checked;n.stateUpdate.emit({prefs:{mirrorVideo:i}}),v.s.prefs=Object.assign(Object.assign({},null!==(t=v.s.prefs)&&void 0!==t?t:{}),{mirrorVideo:i}),(0,l.s)("mirror-video",i)}}))))}}],[{key:"watchers",get:function(){return{meeting:["meetingChanged"]}}}]),e}();h.style=".dyte-select{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.dyte-select:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.dyte-select{display:block;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--dyte-space-3, 12px);font-size:16px;--icon-size:var(--dyte-select-chevron-size, var(--dyte-space-6, 24px));--icon-right-position:var(--dyte-select-chevron-right-position, var(--dyte-space-2, 8px));background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\");background-position:right var(--icon-right-position) center;background-repeat:no-repeat;background-size:var(--icon-size) var(--icon-size);padding-right:calc(var(--icon-right-position) * 5)}:host{display:flex;width:100%;flex-direction:column;font-family:var(--dyte-font-family, sans-serif)}select{font-family:var(--dyte-font-family, sans-serif)}dyte-participant-tile{margin-left:auto;margin-right:auto;margin-bottom:var(--dyte-space-4, 16px);max-width:100%}#icon{padding-bottom:var(--dyte-space-1, 4px)}.apply-button{height:var(--dyte-space-10, 40px)}label{-webkit-user-select:none;-moz-user-select:none;user-select:none;font-size:14px}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}.row{display:flex;align-items:center;justify-content:space-between;gap:var(--dyte-space-3, 12px)}"},859:function(e,t,n){n.d(t,{g:function(){return a},u:function(){return s}});var i=n(4165),r=n(5861),o=n(7239),a=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&"en"!==t&&""!==t.trim()){e.next=2;break}return e.abrupt("return",o.a);case 2:return e.prev=2,e.next=5,fetch("".concat("http://localhost:5000","/").concat(t,".json"));case 5:if((n=e.sent).ok){e.next=8;break}return e.abrupt("return",o.a);case 8:return e.t0=Object,e.t1={},e.t2=o.a,e.next=13,n.json();case 13:return e.t3=e.sent,e.abrupt("return",e.t0.assign.call(e.t0,e.t1,e.t2,e.t3));case 17:return e.prev=17,e.t4=e.catch(2),e.abrupt("return",o.a);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a;return function(t){var n;return null!==(n=e[t])&&void 0!==n?n:t}}},5100:function(e,t,n){n.d(t,{o:function(){return l},s:function(){return u}});var i=n(7762),r=n(325),o=function(e){return!("isConnected"in e)||e.isConnected},a=function(e,t){var n;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){n=0,e.apply(void 0,r)}),t)}}((function(e){var t,n=(0,i.Z)(e.keys());try{for(n.s();!(t=n.n()).done;){var r=t.value;e.set(r,e.get(r).filter(o))}}catch(a){n.e(a)}finally{n.f()}}),2e3),s=function(e){return"function"===typeof e?e():e},c=function(e,t){var n=e.indexOf(t);n>=0&&(e[n]=e[e.length-1],e.length--)},d=function(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e!==t},n=s(e),i=new Map(Object.entries(null!==n&&void 0!==n?n:{})),r={dispose:[],get:[],set:[],reset:[]},o=function(){var t;i=new Map(Object.entries(null!==(t=s(e))&&void 0!==t?t:{})),r.reset.forEach((function(e){return e()}))},a=function(e){return r.get.forEach((function(t){return t(e)})),i.get(e)},d=function(e,n){var o=i.get(e);t(n,o,e)&&(i.set(e,n),r.set.forEach((function(t){return t(e,n,o)})))},u="undefined"===typeof Proxy?{}:new Proxy(n,{get:function(e,t){return a(t)},ownKeys:function(e){return Array.from(i.keys())},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}},has:function(e,t){return i.has(t)},set:function(e,t,n){return d(t,n),!0}}),l=function(e,t){return r[e].push(t),function(){c(r[e],t)}};return{state:u,get:a,set:d,on:l,onChange:function(t,n){var i=l("set",(function(e,i){e===t&&n(i)})),r=l("reset",(function(){return n(s(e)[t])}));return function(){i(),r()}},use:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.reduce((function(e,t){return t.set&&e.push(l("set",t.set)),t.get&&e.push(l("get",t.get)),t.reset&&e.push(l("reset",t.reset)),t.dispose&&e.push(l("dispose",t.dispose)),e}),[]);return function(){return i.forEach((function(e){return e()}))}},dispose:function(){r.dispose.forEach((function(e){return e()})),o()},reset:o,forceUpdate:function(e){var t=i.get(e);r.set.forEach((function(n){return n(e,t,t)}))}}}(e,t);return n.use(function(){if("function"!==typeof r.a)return{};var e=new Map;return{dispose:function(){return e.clear()},get:function(t){var n=(0,r.a)();n&&function(e,t,n){var i=e.get(t);i?i.includes(n)||i.push(n):e.set(t,[n])}(e,t,n)},set:function(t){var n=e.get(t);n&&e.set(t,n.filter(r.f)),a(e)},reset:function(){e.forEach((function(e){return e.forEach(r.f)})),a(e)}}}()),n}({}),u=d.state,l=d.onChange}}]);
//# sourceMappingURL=5729.1d1d904f.chunk.js.map