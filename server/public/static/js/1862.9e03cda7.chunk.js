"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[1862],{1862:function(e,t,n){n.r(t),n.d(t,{dyte_plugin_main:function(){return s}});var i=n(5671),r=n(3144),a=n(325),o=n(7239),l=n(859),s=function(){function e(t){(0,i.Z)(this,e),(0,a.r)(this,t),this.meeting=void 0,this.plugin=void 0,this.iconPack=o.d,this.t=(0,l.u)(),this.canClosePlugin=!1,this.canControl=!0,this.viewModeEnabled=!1}return(0,r.Z)(e,[{key:"componentDidLoad",value:function(){this.meetingChanged(this.meeting),this.pluginChanged(this.plugin)}},{key:"meetingChanged",value:function(e){var t,n=this;if(null!=e){var i=e.self.permissions,r=i.isV2?i.plugins.canEditConfig:i.plugins.canEditAcl;if(void 0!==i.plugins.config){Object.keys(i.plugins.config||{}).forEach((function(e){i.plugins.config[e.toLowerCase()]=i.plugins.config[e]}));var o=this.plugin.id.replace(new RegExp("-","g"),""),l="whitelist"===((null===(t=i.plugins.config[o])||void 0===t?void 0:t.defaultAccess)||"blacklist");this.plugin.enabledBy===e.self.userId||r?this.canControl=!0:l&&(this.canControl=!1),this.viewModeEnabled=!this.canControl}(0,a.w)((function(){n.canClosePlugin=e.self.permissions.plugins.canClose}))}}},{key:"pluginChanged",value:function(e){var t=this;this.toggleViewModeListener=function(e){t.viewModeEnabled=e},null!=e&&(e.addPluginView(this.iframeEl),e.addListener("toggleViewMode",this.toggleViewModeListener))}},{key:"disconnectedCallback",value:function(){var e;null===(e=this.plugin)||void 0===e||e.removeListener("toggleViewMode",this.toggleViewModeListener)}},{key:"render",value:function(){var e=this;return null==this.plugin?null:(0,a.h)(a.H,null,(0,a.h)("header",{part:"header"},(0,a.h)("div",null,this.plugin.name),this.canClosePlugin&&(0,a.h)("div",null,(0,a.h)("dyte-button",{kind:"icon",onClick:function(){return e.plugin.deactivate()},part:"button",iconPack:this.iconPack,t:this.t},(0,a.h)("dyte-icon",{icon:this.iconPack.dismiss,iconPack:this.iconPack,t:this.t})))),(0,a.h)("div",{class:"iframe-container"},!this.canControl&&(this.viewModeEnabled?(0,a.h)("div",{class:"block-inputs"}):null),(0,a.h)("iframe",{ref:function(t){return e.iframeEl=t},part:"iframe"})))}}],[{key:"watchers",get:function(){return{meeting:["meetingChanged"],plugin:["pluginChanged"]}}}]),e}();s.style=":host{display:flex;height:100%;width:100%;flex-direction:column;overflow:hidden;border-radius:var(--dyte-border-radius-lg, 12px);font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}header{display:flex;height:var(--dyte-space-8, 32px);align-items:center;justify-content:space-between;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}header>div{display:flex;align-items:center}dyte-button{display:flex;height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);flex-direction:column;align-items:center;border-radius:9999px}dyte-button dyte-icon{height:var(--dyte-space-3, 12px);width:var(--dyte-space-3, 12px)}iframe{display:block;flex:1 1 0%;margin:var(--dyte-space-0, 0px);border-width:var(--dyte-border-width-none, 0);border-style:none;padding:var(--dyte-space-0, 0px);outline:2px solid transparent;outline-offset:2px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity))}.iframe-container{position:relative;height:100%;width:100%}.block-inputs{position:absolute;z-index:10;height:100%;width:100%;border-left-width:var(--dyte-border-width-none, 0);border-top-width:var(--dyte-border-width-lg, 4px);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-border-opacity))}iframe{height:100%;width:100%}"},859:function(e,t,n){n.d(t,{g:function(){return o},u:function(){return l}});var i=n(4165),r=n(5861),a=n(7239),o=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&"en"!==t&&""!==t.trim()){e.next=2;break}return e.abrupt("return",a.a);case 2:return e.prev=2,e.next=5,fetch("".concat("http://localhost:5000","/").concat(t,".json"));case 5:if((n=e.sent).ok){e.next=8;break}return e.abrupt("return",a.a);case 8:return e.t0=Object,e.t1={},e.t2=a.a,e.next=13,n.json();case 13:return e.t3=e.sent,e.abrupt("return",e.t0.assign.call(e.t0,e.t1,e.t2,e.t3));case 17:return e.prev=17,e.t4=e.catch(2),e.abrupt("return",a.a);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a;return function(t){var n;return null!==(n=e[t])&&void 0!==n?n:t}}}}]);
//# sourceMappingURL=1862.9e03cda7.chunk.js.map