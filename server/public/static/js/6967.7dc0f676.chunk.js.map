{"version":3,"file":"static/js/6967.7dc0f676.chunk.js","mappings":"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","sources":["../node_modules/@dytesdk/ui-kit/dist/esm/dyte-pip-toggle.entry.js","../node_modules/@dytesdk/ui-kit/dist/esm/index-2b010b0f.js","../node_modules/@dytesdk/ui-kit/dist/esm/pipStore-094537d3.js","../node_modules/@dytesdk/ui-kit/dist/esm/store-183b9cab.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host } from './index-60449c9e.js';\nimport { d as defaultConfig } from './default-ui-config-5c37753d.js';\nimport { d as defaultIconPack } from './default-language-95a0d199.js';\nimport { u as useLanguage } from './index-2b010b0f.js';\nimport './graceful-storage-33bc316d.js';\nimport { s as store, P as PiPEvents } from './pipStore-094537d3.js';\nimport { s as state } from './store-183b9cab.js';\n\nconst dytePipToggleCss = \":host{display:block}\";\n\nconst DytePipToggle = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n    this.variant = 'button';\n    this.meeting = undefined;\n    this.states = undefined;\n    this.config = defaultConfig;\n    this.iconPack = defaultIconPack;\n    this.size = undefined;\n    this.t = useLanguage();\n    this.pipEnabled = false;\n    this.pipSupported = false;\n  }\n  connectedCallback() {\n    this.meetingChanged(this.meeting);\n  }\n  disconnectedCallback() { }\n  statesChanged(s) {\n    const states = s || state;\n    if ((states === null || states === void 0 ? void 0 : states.activePipMode) != null) {\n      this.pipEnabled = states.activePipMode;\n    }\n  }\n  meetingChanged(meeting) {\n    var _a;\n    if (meeting === null)\n      return;\n    // Check if PiP is supported and enabled\n    this.pipSupported = store.isSupported() && ((_a = meeting.self.config) === null || _a === void 0 ? void 0 : _a.pipMode);\n    const localState = this.states || state;\n    this.pipEnabled = localState.activePipMode;\n  }\n  togglePip() {\n    const localState = this.states || state;\n    const { activePipMode } = localState;\n    // Not active, activate\n    if (activePipMode !== true) {\n      store.updateMediaSession(PiPEvents.CAMERA, this.meeting.self.videoEnabled);\n      store.updateMediaSession(PiPEvents.MIC, this.meeting.self.audioEnabled);\n      store.enable();\n      this.stateUpdate.emit({ activePipMode: true });\n    }\n    else {\n      store.disable();\n      this.stateUpdate.emit({ activePipMode: false });\n    }\n    this.stateUpdate.emit({ activeMoreMenu: false });\n    state.activeMoreMenu = false;\n  }\n  render() {\n    if (!this.pipSupported)\n      return;\n    return (h(Host, { tabIndex: 0, role: \"log\", \"aria-label\": `Picture-in-Picture mode` }, h(\"dyte-controlbar-button\", { part: \"controlbar-button\", size: this.size, iconPack: this.iconPack, t: this.t, onClick: () => this.togglePip(), icon: this.pipEnabled ? this.iconPack.pip_on : this.iconPack.pip_off, label: this.pipEnabled ? this.t('pip_off') : this.t('pip_on'), variant: this.variant })));\n  }\n  static get watchers() { return {\n    \"states\": [\"statesChanged\"],\n    \"meeting\": [\"meetingChanged\"]\n  }; }\n};\nDytePipToggle.style = dytePipToggleCss;\n\nexport { DytePipToggle as dyte_pip_toggle };\n","import { a as defaultLanguage } from './default-language-95a0d199.js';\n\n// Replace with cdn base path in prod\nconst LANG_BASE_URL = 'http://localhost:5000';\nconst getLangData = async (lang) => {\n  if (lang == null || lang === 'en' || lang.trim() === '') {\n    return defaultLanguage;\n  }\n  try {\n    const res = await fetch(`${LANG_BASE_URL}/${lang}.json`);\n    if (!res.ok) {\n      return defaultLanguage;\n    }\n    // merge fetched language with defaultLanguage to avoid empty properties\n    return Object.assign({}, defaultLanguage, await res.json());\n  }\n  catch (_) {\n    return defaultLanguage;\n  }\n};\n/**\n * Creates an i18n instance from a language dictionary/object.\n * @param lang The language dictionary\n * @returns A function which handles i18n\n */\nconst useLanguage = (lang = defaultLanguage) => {\n  return (key) => {\n    var _a;\n    return (_a = lang[key]) !== null && _a !== void 0 ? _a : key;\n  };\n};\n\nexport { getLangData as g, useLanguage as u };\n","const PIP_CANVAS_HEIGHT = 720;\nconst PIP_CANVAS_WIDTH = 1280;\nconst PIP_CANVAS_FILL = '#000000';\nconst calcGridElemSize = (gridSize) => {\n  switch (gridSize) {\n    case 0:\n    case 1:\n      return [PIP_CANVAS_WIDTH, PIP_CANVAS_HEIGHT];\n    case 2:\n      return [Math.floor(PIP_CANVAS_WIDTH / 2), PIP_CANVAS_HEIGHT];\n    case 3:\n    case 4:\n      return [Math.floor(PIP_CANVAS_WIDTH / 2), Math.floor(PIP_CANVAS_HEIGHT / 2)];\n    case 5:\n    case 6:\n      return [Math.floor(PIP_CANVAS_WIDTH / 3), Math.floor(PIP_CANVAS_HEIGHT / 2)];\n    default:\n      return [Math.floor(PIP_CANVAS_WIDTH / 3), Math.floor(PIP_CANVAS_HEIGHT / 2)];\n  }\n};\nconst calcImageCrop = (x, y, w, h, videoW, videoH) => {\n  // default offset is center\n  let offsetX = 0.5;\n  let offsetY = 0.5;\n  const iw = videoW;\n  const ih = videoH;\n  const r = Math.min(w / iw, h / ih);\n  let nw = iw * r; // new prop. width\n  let nh = ih * r; // new prop. height\n  let cx;\n  let cy;\n  let cw;\n  let ch;\n  let ar = 1;\n  // decide which gap to fill\n  if (nw < w)\n    ar = w / nw;\n  if (Math.abs(ar - 1) < 1e-14 && nh < h)\n    ar = h / nh; // updated\n  nw *= ar;\n  nh *= ar;\n  // calc source rectangle\n  cw = iw / (nw / w);\n  ch = ih / (nh / h);\n  cx = (iw - cw) * offsetX;\n  cy = (ih - ch) * offsetY;\n  // make sure source rectangle is valid\n  if (cx < 0)\n    cx = 0;\n  if (cy < 0)\n    cy = 0;\n  if (cw > iw)\n    cw = iw;\n  if (ch > ih)\n    ch = ih;\n  // fill image in dest. rectangle\n  return [cx, cy, cw, ch, x, y, w, h];\n};\nvar PiPEvents;\n(function (PiPEvents) {\n  PiPEvents[\"CAMERA\"] = \"CAMERA\";\n  PiPEvents[\"MIC\"] = \"MIC\";\n  PiPEvents[\"END\"] = \"END\";\n})(PiPEvents || (PiPEvents = {}));\nclass PipStore {\n  constructor() {\n    this.tracks = [];\n    this.sources = [];\n    this.enabled = false;\n  }\n  isSupported() {\n    return !!window.chrome && document.pictureInPictureEnabled;\n  }\n  cleanup() {\n    if (this.isSupported() &&\n      document.exitPictureInPicture !== undefined &&\n      document.pictureInPictureElement !== null) {\n      document.exitPictureInPicture();\n    }\n    this.canvas = undefined;\n    this.video = undefined;\n    this.tracks = [];\n    this.request = undefined;\n  }\n  createCanvas() {\n    const c = document.createElement('canvas');\n    c.height = PIP_CANVAS_HEIGHT;\n    c.width = PIP_CANVAS_WIDTH;\n    this.canvas = c;\n  }\n  setupEvents(onEvent) {\n    if (navigator.mediaSession === undefined ||\n      navigator.mediaSession.setCameraActive === undefined) {\n      return;\n    }\n    navigator.mediaSession.setActionHandler('togglemicrophone', () => {\n      onEvent(PiPEvents.MIC);\n    });\n    navigator.mediaSession.setActionHandler('togglecamera', () => {\n      onEvent(PiPEvents.CAMERA);\n    });\n    navigator.mediaSession.setActionHandler('hangup', () => {\n      onEvent(PiPEvents.END);\n    });\n  }\n  drawGrid(gridW, gridH, gridSize) {\n    if (this.canvas === undefined)\n      return;\n    const ctx = this.canvas.getContext('2d');\n    // Reset the canvas\n    ctx.fillStyle = PIP_CANVAS_FILL;\n    ctx.fillRect(0, 0, PIP_CANVAS_WIDTH, PIP_CANVAS_HEIGHT);\n    let pointerY = 0;\n    let i = 0;\n    while (pointerY < PIP_CANVAS_HEIGHT - 5) {\n      let pointerX = 0;\n      while (pointerX < PIP_CANVAS_WIDTH - 5 && i < gridSize) {\n        const videoElem = this.tracks[i];\n        const [cx, cy, cw, ch, x, y, w, h] = calcImageCrop(pointerX, pointerY, gridW, gridH, videoElem.videoWidth, videoElem.videoHeight);\n        ctx.drawImage(videoElem, cx, cy, cw, ch, x, y, w, h);\n        i += 1;\n        pointerX += gridW;\n      }\n      pointerY += gridH;\n    }\n  }\n  paintCanvas() {\n    const gridSize = this.tracks.length;\n    const [gridW, gridH] = calcGridElemSize(gridSize);\n    this.drawGrid(gridW, gridH, gridSize);\n  }\n  animate() {\n    if (this.tracks !== undefined) {\n      this.paintCanvas();\n    }\n    if (this.request !== undefined) {\n      this.request = requestAnimationFrame(() => this.animate());\n    }\n  }\n  /**\n   * Create a PiP store and prepare sources\n   * @param onReady method to trigger when video stream is ready\n   * @param onStop method to trigger when PiP is stopped\n   * @param onEvent method to trigger on PiP media session\n   */\n  create(onReady, onStop, onEvent) {\n    this.cleanup();\n    this.createCanvas();\n    this.setupEvents(onEvent);\n    const target = document.createElement('video');\n    target.height = PIP_CANVAS_HEIGHT;\n    target.width = PIP_CANVAS_WIDTH;\n    target.autoplay = true;\n    target.srcObject = this.canvas.captureStream(24);\n    this.video = target;\n    this.video.onloadedmetadata = () => {\n      try {\n        onReady();\n        this.video.onleavepictureinpicture = () => {\n          onStop();\n        };\n      }\n      catch (err) {\n        onStop(err.getMessage());\n      }\n    };\n    this.paintCanvas();\n  }\n  updateMediaSession(event, state) {\n    if (navigator.mediaSession === undefined)\n      return;\n    if (event === PiPEvents.CAMERA &&\n      navigator.mediaSession.setCameraActive !== undefined) {\n      navigator.mediaSession.setCameraActive(state);\n    }\n    if (event === PiPEvents.MIC &&\n      navigator.mediaSession.setMicrophoneActive !== undefined) {\n      navigator.mediaSession.setMicrophoneActive(state);\n    }\n  }\n  /**\n   * Update the active streams to show on grid\n   * @param sources list of participants to show on grid\n   */\n  updateVideoSources() {\n    const enabledSources = Object.values(this.sources).filter((t) => t.enabled);\n    const tracks = [];\n    enabledSources.map((sou) => {\n      tracks.push(sou.element);\n    });\n    this.tracks = tracks;\n  }\n  enableSource(source) {\n    if (this.sources[source] !== undefined) {\n      this.sources[source].enabled = true;\n    }\n    this.updateVideoSources();\n  }\n  disableSource(source) {\n    if (this.sources[source] !== undefined) {\n      this.sources[source].enabled = false;\n    }\n    this.updateVideoSources();\n  }\n  /**\n   * Add a video source from the participant grid\n   * @param id participant id to store the video against\n   * @param element HTMLVideoElement for the video source\n   */\n  addSource(id, element, enabled) {\n    this.sources[id] = { element, enabled };\n  }\n  /**\n   * Remove the video source for the participant\n   * @param id participant id\n   */\n  removeSource(id) {\n    delete this.sources[id];\n  }\n  /**\n   * Remove all sources\n   */\n  removeAllSource() {\n    this.sources = [];\n  }\n  /**\n   * Enable PiP\n   */\n  enable() {\n    this.enabled = true;\n    // Repaint canvas in loop\n    this.request = requestAnimationFrame(() => this.animate());\n    this.video.requestPictureInPicture();\n  }\n  /**\n   * Enable PiP\n   */\n  disable() {\n    this.enabled = false;\n    cancelAnimationFrame(this.request);\n    this.request = undefined;\n    document.exitPictureInPicture();\n  }\n}\nconst store = new PipStore();\n\nexport { PiPEvents as P, store as s };\n","import { a as getRenderingRef, f as forceUpdate } from './index-60449c9e.js';\n\nconst appendToMap = (map, propName, value) => {\n    const items = map.get(propName);\n    if (!items) {\n        map.set(propName, [value]);\n    }\n    else if (!items.includes(value)) {\n        items.push(value);\n    }\n};\nconst debounce = (fn, ms) => {\n    let timeoutId;\n    return (...args) => {\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(() => {\n            timeoutId = 0;\n            fn(...args);\n        }, ms);\n    };\n};\n\n/**\n * Check if a possible element isConnected.\n * The property might not be there, so we check for it.\n *\n * We want it to return true if isConnected is not a property,\n * otherwise we would remove these elements and would not update.\n *\n * Better leak in Edge than to be useless.\n */\nconst isConnected = (maybeElement) => !('isConnected' in maybeElement) || maybeElement.isConnected;\nconst cleanupElements = debounce((map) => {\n    for (let key of map.keys()) {\n        map.set(key, map.get(key).filter(isConnected));\n    }\n}, 2000);\nconst stencilSubscription = () => {\n    if (typeof getRenderingRef !== 'function') {\n        // If we are not in a stencil project, we do nothing.\n        // This function is not really exported by @stencil/core.\n        return {};\n    }\n    const elmsToUpdate = new Map();\n    return {\n        dispose: () => elmsToUpdate.clear(),\n        get: (propName) => {\n            const elm = getRenderingRef();\n            if (elm) {\n                appendToMap(elmsToUpdate, propName, elm);\n            }\n        },\n        set: (propName) => {\n            const elements = elmsToUpdate.get(propName);\n            if (elements) {\n                elmsToUpdate.set(propName, elements.filter(forceUpdate));\n            }\n            cleanupElements(elmsToUpdate);\n        },\n        reset: () => {\n            elmsToUpdate.forEach((elms) => elms.forEach(forceUpdate));\n            cleanupElements(elmsToUpdate);\n        },\n    };\n};\n\nconst unwrap = (val) => (typeof val === 'function' ? val() : val);\nconst createObservableMap = (defaultState, shouldUpdate = (a, b) => a !== b) => {\n    const unwrappedState = unwrap(defaultState);\n    let states = new Map(Object.entries(unwrappedState !== null && unwrappedState !== void 0 ? unwrappedState : {}));\n    const handlers = {\n        dispose: [],\n        get: [],\n        set: [],\n        reset: [],\n    };\n    const reset = () => {\n        var _a;\n        // When resetting the state, the default state may be a function - unwrap it to invoke it.\n        // otherwise, the state won't be properly reset\n        states = new Map(Object.entries((_a = unwrap(defaultState)) !== null && _a !== void 0 ? _a : {}));\n        handlers.reset.forEach((cb) => cb());\n    };\n    const dispose = () => {\n        // Call first dispose as resetting the state would\n        // cause less updates ;)\n        handlers.dispose.forEach((cb) => cb());\n        reset();\n    };\n    const get = (propName) => {\n        handlers.get.forEach((cb) => cb(propName));\n        return states.get(propName);\n    };\n    const set = (propName, value) => {\n        const oldValue = states.get(propName);\n        if (shouldUpdate(value, oldValue, propName)) {\n            states.set(propName, value);\n            handlers.set.forEach((cb) => cb(propName, value, oldValue));\n        }\n    };\n    const state = (typeof Proxy === 'undefined'\n        ? {}\n        : new Proxy(unwrappedState, {\n            get(_, propName) {\n                return get(propName);\n            },\n            ownKeys(_) {\n                return Array.from(states.keys());\n            },\n            getOwnPropertyDescriptor() {\n                return {\n                    enumerable: true,\n                    configurable: true,\n                };\n            },\n            has(_, propName) {\n                return states.has(propName);\n            },\n            set(_, propName, value) {\n                set(propName, value);\n                return true;\n            },\n        }));\n    const on = (eventName, callback) => {\n        handlers[eventName].push(callback);\n        return () => {\n            removeFromArray(handlers[eventName], callback);\n        };\n    };\n    const onChange = (propName, cb) => {\n        const unSet = on('set', (key, newValue) => {\n            if (key === propName) {\n                cb(newValue);\n            }\n        });\n        // We need to unwrap the defaultState because it might be a function.\n        // Otherwise we might not be sending the right reset value.\n        const unReset = on('reset', () => cb(unwrap(defaultState)[propName]));\n        return () => {\n            unSet();\n            unReset();\n        };\n    };\n    const use = (...subscriptions) => {\n        const unsubs = subscriptions.reduce((unsubs, subscription) => {\n            if (subscription.set) {\n                unsubs.push(on('set', subscription.set));\n            }\n            if (subscription.get) {\n                unsubs.push(on('get', subscription.get));\n            }\n            if (subscription.reset) {\n                unsubs.push(on('reset', subscription.reset));\n            }\n            if (subscription.dispose) {\n                unsubs.push(on('dispose', subscription.dispose));\n            }\n            return unsubs;\n        }, []);\n        return () => unsubs.forEach((unsub) => unsub());\n    };\n    const forceUpdate = (key) => {\n        const oldValue = states.get(key);\n        handlers.set.forEach((cb) => cb(key, oldValue, oldValue));\n    };\n    return {\n        state,\n        get,\n        set,\n        on,\n        onChange,\n        use,\n        dispose,\n        reset,\n        forceUpdate,\n    };\n};\nconst removeFromArray = (array, item) => {\n    const index = array.indexOf(item);\n    if (index >= 0) {\n        array[index] = array[array.length - 1];\n        array.length--;\n    }\n};\n\nconst createStore = (defaultState, shouldUpdate) => {\n    const map = createObservableMap(defaultState, shouldUpdate);\n    map.use(stencilSubscription());\n    return map;\n};\n\nconst { state, onChange } = createStore({});\n\nexport { onChange as o, state as s };\n"],"names":["DytePipToggle","hostRef","_classCallCheck","registerInstance","this","stateUpdate","createEvent","variant","meeting","undefined","states","config","defaultConfig","iconPack","defaultIconPack","size","t","useLanguage","pipEnabled","pipSupported","_createClass","key","value","meetingChanged","s","state","activePipMode","_a","store","self","pipMode","localState","PiPEvents","videoEnabled","audioEnabled","emit","activeMoreMenu","_this","h","Host","tabIndex","role","part","onClick","togglePip","icon","pip_on","pip_off","label","get","style","getLangData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","lang","res","wrap","_context","prev","next","trim","abrupt","defaultLanguage","fetch","concat","sent","ok","t0","Object","t1","t2","json","t3","assign","call","t4","stop","_x","apply","arguments","length","PIP_CANVAS_HEIGHT","PIP_CANVAS_WIDTH","calcImageCrop","x","y","w","videoW","videoH","cx","cy","cw","ch","iw","ih","r","Math","min","nw","nh","ar","abs","PipStore","tracks","sources","enabled","window","chrome","document","pictureInPictureEnabled","isSupported","exitPictureInPicture","pictureInPictureElement","canvas","video","request","c","createElement","height","width","onEvent","navigator","mediaSession","setCameraActive","setActionHandler","MIC","CAMERA","END","gridW","gridH","gridSize","ctx","getContext","fillStyle","fillRect","pointerY","i","pointerX","videoElem","_calcImageCrop","videoWidth","videoHeight","_calcImageCrop2","_slicedToArray","drawImage","_calcGridElemSize","floor","calcGridElemSize","_calcGridElemSize2","drawGrid","paintCanvas","requestAnimationFrame","animate","onReady","onStop","_this2","cleanup","createCanvas","setupEvents","target","autoplay","srcObject","captureStream","onloadedmetadata","onleavepictureinpicture","err","getMessage","event","setMicrophoneActive","enabledSources","values","filter","map","sou","push","element","source","updateVideoSources","id","_this3","requestPictureInPicture","cancelAnimationFrame","isConnected","maybeElement","cleanupElements","fn","ms","timeoutId","_len","args","Array","_key","clearTimeout","setTimeout","debounce","_step","_iterator","_createForOfIteratorHelper","keys","n","done","set","e","f","unwrap","val","removeFromArray","array","item","index","indexOf","_createStore","defaultState","shouldUpdate","a","b","unwrappedState","Map","entries","handlers","dispose","reset","forEach","cb","propName","oldValue","Proxy","_","ownKeys","from","getOwnPropertyDescriptor","enumerable","configurable","has","on","eventName","callback","onChange","unSet","newValue","unReset","use","_len2","subscriptions","_key2","unsubs","reduce","subscription","unsub","forceUpdate","createObservableMap","getRenderingRef","elmsToUpdate","clear","elm","items","includes","appendToMap","elements","elms","stencilSubscription","createStore"],"sourceRoot":""}