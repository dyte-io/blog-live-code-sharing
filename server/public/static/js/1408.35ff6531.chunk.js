"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[1408],{1408:function(t,e,n){n.r(e),n.d(e,{dyte_polls:function(){return h}});var r=n(4165),o=n(5861),i=n(2982),a=n(5671),l=n(3144),s=n(325),c=n(1654),u=n(7239),p=n(859),d=(n(4130),n(1463)),h=function(){function t(e){var n=this;(0,a.Z)(this,t),(0,s.r)(this,e),this.onPollsUpdate=function(t){n.polls=(0,i.Z)(t.polls)},this.meeting=void 0,this.config=c.d,this.size=void 0,this.iconPack=u.d,this.t=(0,p.u)(),this.create=!1,this.polls=void 0}return(0,l.Z)(t,[{key:"connectedCallback",value:function(){this.meetingChanged(this.meeting)}},{key:"disconnectedCallback",value:function(){var t;null!=this.meeting&&(null===(t=this.meeting.polls)||void 0===t||t.removeListener("pollsUpdate",this.onPollsUpdate))}},{key:"meetingChanged",value:function(t){var e=this;void 0!=t&&(t&&!t.polls||(this.polls=(0,i.Z)(t.polls.items),t.polls.addListener("pollsUpdate",this.onPollsUpdate),this.onCreate=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(o){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.create=!1,n.next=3,t.polls.create(o.question,o.options,o.anonymous,o.hideVotes);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),this.onVote=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n,o){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.polls.vote(n,o);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}},{key:"toggleCreateState",value:function(){this.create=!this.create}},{key:"componentDidRender",value:function(){(0,d.s)(this.pollEl)}},{key:"render",value:function(){var t=this;return(0,s.h)(s.H,null,(0,s.h)("div",{class:"ctr",part:"container"},(0,s.h)("div",{class:"polls-view scrollbar",ref:function(e){return t.pollEl=e},part:"polls"},this.polls.map((function(e){var n;return(0,s.h)("dyte-poll",{key:e.id,poll:e,onDyteVotePoll:function(e){t.onVote(e.detail.id,e.detail.index)},self:null===(n=t.meeting)||void 0===n?void 0:n.self.userId,iconPack:t.iconPack,t:t.t,permissions:t.meeting.self.permissions})})),this.create&&(0,s.h)("dyte-poll-form",{part:"poll-form",onDyteCreatePoll:function(e){t.onCreate(e.detail)},iconPack:this.iconPack,t:this.t})),this.meeting.self.permissions.polls.canCreate&&(0,s.h)("dyte-button",{kind:"wide",onClick:function(){return t.toggleCreateState()},variant:this.create?"secondary":"primary",part:"button",iconPack:this.iconPack,t:this.t},this.create?this.t("Cancel Poll Creation"):this.t("Create New Poll"))))}}],[{key:"watchers",get:function(){return{meeting:["meetingChanged"]}}}]),t}();h.style=".scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{margin-top:var(--dyte-space-2, 8px);display:flex;height:100%;width:100%;flex-direction:column;font-family:var(--dyte-font-family, sans-serif);font-size:14px}*{box-sizing:border-box}.ctr{box-sizing:border-box;padding:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-0, 0px);display:flex;flex:1 1 0%;flex-direction:column}.polls-view{overflow-y:auto;flex:1 1 0%;flex-basis:0}"},859:function(t,e,n){n.d(e,{g:function(){return a},u:function(){return l}});var r=n(4165),o=n(5861),i=n(7239),a=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e&&"en"!==e&&""!==e.trim()){t.next=2;break}return t.abrupt("return",i.a);case 2:return t.prev=2,t.next=5,fetch("".concat("http://localhost:5000","/").concat(e,".json"));case 5:if((n=t.sent).ok){t.next=8;break}return t.abrupt("return",i.a);case 8:return t.t0=Object,t.t1={},t.t2=i.a,t.next=13,n.json();case 13:return t.t3=t.sent,t.abrupt("return",t.t0.assign.call(t.t0,t.t1,t.t2,t.t3));case 17:return t.prev=17,t.t4=t.catch(2),t.abrupt("return",i.a);case 20:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a;return function(e){var n;return null!==(n=t[e])&&void 0!==n?n:e}}},1463:function(t,e,n){n.d(e,{s:function(){return r}});var r=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];null!=t&&t.scrollTo({top:t.scrollHeight,behavior:e?"smooth":"auto"})}}}]);
//# sourceMappingURL=1408.35ff6531.chunk.js.map