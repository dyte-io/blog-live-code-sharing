"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[6769],{6769:function(t,e,n){n.r(e),n.d(e,{dyte_recording_toggle:function(){return s}});var r=n(5671),i=n(3144),c=n(325),a=n(7239),o=n(859),s=function(){function t(e){var n=this;(0,r.Z)(this,t),(0,c.r)(this,e),this.toggleRecording=function(){var t,e;if(!n.isLoading())switch(n.recordingState){case"IDLE":return void(null===(t=n.meeting)||void 0===t||t.recording.start());case"RECORDING":return void(null===(e=n.meeting)||void 0===e||e.recording.stop());default:return}},this.isLoading=function(){return null==n.meeting||"STARTING"===n.recordingState||"STOPPING"===n.recordingState},this.variant="button",this.meeting=void 0,this.t=(0,o.u)(),this.iconPack=a.d,this.size=void 0,this.recordingState=void 0,this.canRecord=!1}return(0,i.Z)(t,[{key:"connectedCallback",value:function(){this.meetingChanged(this.meeting)}},{key:"disconnectedCallback",value:function(){var t;this.recordingStateUpdateListener&&(null===(t=this.meeting)||void 0===t||t.recording.removeListener("recordingUpdate",this.recordingStateUpdateListener))}},{key:"meetingChanged",value:function(t){var e=this;null!=t&&(this.recordingState=t.recording.recordingState,this.canRecord=!0===t.self.permissions.canRecord,this.recordingStateUpdateListener=function(t){e.recordingState=t},t.recording.addListener("recordingUpdate",this.recordingStateUpdateListener))}},{key:"getLabel",value:function(){switch(this.recordingState){case"IDLE":return this.t("Record");case"RECORDING":return this.t("Stop Recording");case"STARTING":return this.t("Starting");case"STOPPING":return this.t("Stopping");default:return this.t("Loading")}}},{key:"getIcon",value:function(){switch(this.recordingState){case"IDLE":case"STARTING":case"STOPPING":default:return this.iconPack.recording;case"RECORDING":return this.iconPack.stop_recording}}},{key:"render",value:function(){if(this.canRecord)return(0,c.h)(c.H,{title:this.t("Record")},(0,c.h)("dyte-controlbar-button",{size:this.size,iconPack:this.iconPack,t:this.t,onClick:this.toggleRecording,icon:this.getIcon(),isLoading:this.isLoading(),label:this.t(this.getLabel()),variant:this.variant}))}}],[{key:"watchers",get:function(){return{meeting:["meetingChanged"]}}}]),t}();s.style=":host{display:block;font-family:var(--dyte-font-family, sans-serif)}"},859:function(t,e,n){n.d(e,{g:function(){return a},u:function(){return o}});var r=n(4165),i=n(5861),c=n(7239),a=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e&&"en"!==e&&""!==e.trim()){t.next=2;break}return t.abrupt("return",c.a);case 2:return t.prev=2,t.next=5,fetch("".concat("http://localhost:5000","/").concat(e,".json"));case 5:if((n=t.sent).ok){t.next=8;break}return t.abrupt("return",c.a);case 8:return t.t0=Object,t.t1={},t.t2=c.a,t.next=13,n.json();case 13:return t.t3=t.sent,t.abrupt("return",t.t0.assign.call(t.t0,t.t1,t.t2,t.t3));case 17:return t.prev=17,t.t4=t.catch(2),t.abrupt("return",c.a);case 20:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.a;return function(e){var n;return null!==(n=t[e])&&void 0!==n?n:e}}}}]);
//# sourceMappingURL=6769.78e6a4ae.chunk.js.map