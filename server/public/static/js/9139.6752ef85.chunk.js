"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[9139],{9139:function(t,i,e){e.r(i),e.d(i,{dyte_avatar:function(){return h},dyte_menu:function(){return p},dyte_menu_item:function(){return v},dyte_menu_list:function(){return D},dyte_participant:function(){return g}});var n=e(4165),a=e(5861),o=e(5671),s=e(3144),r=e(325),c=e(7239),u=e(9013),d=e(859),l=e(6946),h=function(){function t(i){var e=this;(0,o.Z)(this,t),(0,r.r)(this,i),this.getAvatar=function(){var t,i,n=(0,u.f)((null===(t=e.participant)||void 0===t?void 0:t.name)||"");if(null!=e.participant&&"picture"in e.participant&&(i=e.participant.picture),i&&i.length>0&&"errored"!==e.imageState)return(0,r.h)("div",{class:"image-ctr"},"loading"===e.imageState&&(0,r.h)("dyte-spinner",{iconPack:e.iconPack,t:e.t}),(0,r.h)("img",{src:i,class:{loaded:"loaded"===e.imageState},loading:"lazy",title:n,onLoad:function(){return e.imageState="loaded"},onError:function(){return e.imageState="errored"},part:"image"}));var a=(0,u.g)(n);return(0,r.h)("div",{class:"initials",title:n,part:"initials"},a)},this.participant=void 0,this.variant="circular",this.size=void 0,this.iconPack=c.d,this.t=(0,d.u)(),this.imageState="loading"}return(0,s.Z)(t,[{key:"render",value:function(){return(0,r.h)(r.H,null,this.getAvatar())}}]),t}();h.style=":host{display:flex;height:var(--dyte-space-32, 128px);width:var(--dyte-space-32, 128px);align-items:center;justify-content:center;font-family:var(--dyte-font-family, sans-serif);font-size:28px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));overflow:hidden;border-radius:9999px}dyte-icon{height:50%;width:50%}.image-ctr{display:flex;height:100%;width:100%;align-items:center;justify-content:center;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}img{height:var(--dyte-space-0, 0px);width:var(--dyte-space-0, 0px);-o-object-fit:cover;object-fit:cover}img.loaded{height:100%;width:100%}.initials{display:flex;height:100%;width:100%;align-items:center;justify-content:center;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));text-transform:uppercase}.image{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.image img{display:none;height:100%;width:100%;-o-object-fit:cover;object-fit:cover}.image img.loaded{display:block}:host([variant='hexagon']){border-radius:var(--dyte-border-radius-none, 0);-webkit-clip-path:polygon(50% 0, 95% 25%, 95% 75%, 50% 100%, 5% 75%, 5% 25%);clip-path:polygon(50% 0, 95% 25%, 95% 75%, 50% 100%, 5% 75%, 5% 25%)}:host([size='sm']){height:var(--dyte-space-16, 64px);width:var(--dyte-space-16, 64px);font-size:20px}:host([size='md']){height:var(--dyte-space-28, 112px);width:var(--dyte-space-28, 112px)}:host([size='lg']){height:var(--dyte-space-32, 128px);width:var(--dyte-space-32, 128px)}";var p=function(){function t(i){var e=this;(0,o.Z)(this,t),(0,r.r)(this,i),this.clickedThis=!1,this.handleOutsideClick=function(){e.clickedThis||(e.menuListEl.style.display="none"),e.clickedThis=!1},this.size=void 0,this.placement="bottom-end",this.iconPack=c.d,this.t=(0,d.u)()}return(0,s.Z)(t,[{key:"componentDidLoad",value:function(){document.addEventListener("click",this.handleOutsideClick),this.update()}},{key:"disconnectedCallback",value:function(){document.removeEventListener("click",this.handleOutsideClick)}},{key:"update",value:function(){var t=this;(0,l.c)(this.triggerEl,this.menuListEl,{placement:this.placement,middleware:[(0,l.o)(10),(0,l.f)(),(0,l.s)({padding:5})]}).then((function(i){var e=i.x,n=i.y;Object.assign(t.menuListEl.style,{left:"".concat(e,"px"),top:"".concat(n,"px")})}))}},{key:"render",value:function(){var t=this;return(0,r.h)(r.H,null,(0,r.h)("span",{id:"trigger",ref:function(i){return t.triggerEl=i},onClick:function(){t.clickedThis=!0,"block"!==t.menuListEl.style.display?(t.menuListEl.style.display="block",t.update()):t.menuListEl.style.display="none"}},(0,r.h)("slot",{name:"trigger"})),(0,r.h)("span",{part:"menu-list",id:"menu-list",ref:function(i){return t.menuListEl=i}},(0,r.h)("slot",null)))}}]),t}();p.style=":host{position:relative;display:inline-block;font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}#menu-list{position:absolute;z-index:20;display:none}";var v=function(){function t(i){(0,o.Z)(this,t),(0,r.r)(this,i),this.size=void 0,this.iconPack=c.d,this.t=(0,d.u)()}return(0,s.Z)(t,[{key:"render",value:function(){return(0,r.h)(r.H,null,(0,r.h)("slot",{name:"start"}),(0,r.h)("slot",null),(0,r.h)("slot",{name:"end"}))}}]),t}();v.style=":host{display:flex;align-items:center;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);font-family:var(--dyte-font-family, sans-serif);cursor:pointer;transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;color:rgb(var(--dyte-colors-text-1000, 255 255 255));font-size:14px}::slotted([slot='start']){margin-right:var(--dyte-space-2, 8px)}::slotted([slot='end']){margin-left:var(--dyte-space-2, 8px)}:host(:hover){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host(.red){--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var D=function(){function t(i){(0,o.Z)(this,t),(0,r.r)(this,i),this.iconPack=c.d,this.t=(0,d.u)()}return(0,s.Z)(t,[{key:"render",value:function(){return(0,r.h)(r.H,null,(0,r.h)("slot",null))}}]),t}();D.style=":host{display:flex;width:-webkit-max-content;width:-moz-max-content;width:max-content;flex-direction:column;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);font-family:var(--dyte-font-family, sans-serif);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;border-radius:var(--dyte-border-radius-sm, 4px);--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}";var g=function(){function t(i){var e=this;(0,o.Z)(this,t),(0,r.r)(this,i),this.onSelectedParticipantUpdate=(0,r.c)(this,"selectedParticipantUpdate",7),this.onParticipantDelete=(0,r.c)(this,"participantDelete",7),this.pinnedListener=function(t){var i=t.isPinned;e.isPinned=i},this.stageListener=function(t){var i=t.webinarStageStatus;e.isOnStage="ON_STAGE"===i},this.handleClick=function(){if("breakout-rooms-manager"===e.view)e.selected=1===e.selected?0:1},this.meeting=void 0,this.view="sidebar",this.participant=void 0,this.iconPack=c.d,this.t=(0,d.u)(),this.audioEnabled=!1,this.videoEnabled=!1,this.isPinned=!1,this.isOnStage=!1,this.canDisableParticipantAudio=!1,this.canDisableParticipantVideo=!1,this.canKickParticipant=!1,this.canPinParticipant=!1,this.selected=-1,this.canAllowParticipantOnStage=!1}return(0,s.Z)(t,[{key:"connectedCallback",value:function(){this.meetingChanged(this.meeting),this.participantChanged(this.participant),this.selectedChanged(this.selected)}},{key:"disconnectedCallback",value:function(){null!=this.participant&&void 0!=this.participant.removeListener&&(this.audioUpdateListener&&this.participant.removeListener("audioUpdate",this.audioUpdateListener),this.videoUpdateListener&&this.participant.removeListener("videoUpdate",this.videoUpdateListener),this.participant.removeListener("pinned",this.pinnedListener),this.participant.removeListener("unpinned",this.pinnedListener),this.participant.removeListener("peerStartedPresenting",this.stageListener),this.participant.removeListener("peerStoppedPresenting",this.stageListener))}},{key:"meetingChanged",value:function(t){if(null!=t){var i=t.self;this.canDisableParticipantAudio=i.permissions.canAllowParticipantAudio,this.canDisableParticipantVideo=i.permissions.canAllowParticipantVideo,this.canKickParticipant=i.permissions.kickParticipant,this.canPinParticipant=i.permissions.pinParticipant,this.canAllowParticipantOnStage=i.permissions.acceptPresentRequests}}},{key:"participantChanged",value:function(t){var i=this;if(null!=t){if(this.audioEnabled=t.audioEnabled,this.videoEnabled=t.videoEnabled,this.isPinned=t.isPinned,this.isOnStage="ON_STAGE"===t.webinarStageStatus,this.audioUpdateListener=function(t){var e=t.audioEnabled;i.audioEnabled=e},this.videoUpdateListener=function(t){var e=t.videoEnabled;i.videoEnabled=e},void 0==t.addListener)return;t.addListener("audioUpdate",this.audioUpdateListener),t.addListener("videoUpdate",this.videoUpdateListener),t.addListener("pinned",this.pinnedListener),t.addListener("unpinned",this.pinnedListener),t.addListener("peerStartedPresenting",this.stageListener),t.addListener("peerStoppedPresenting",this.stageListener)}}},{key:"selectedChanged",value:function(t){var i,e,n;this.onSelectedParticipantUpdate.emit({val:t,id:null!==(e=null===(i=this.participant)||void 0===i?void 0:i.userId)&&void 0!==e?e:null===(n=this.participant)||void 0===n?void 0:n.clientSpecificId})}},{key:"render",value:function(){var t,i,e,o,s,c,d,l,h=this,p=this.canDisableParticipantAudio||this.canDisableParticipantVideo||this.canKickParticipant,v=(0,u.f)((null===(t=this.participant)||void 0===t?void 0:t.name)||""),D=this.isOnStage||"WEBINAR"!==(null===(e=null===(i=this.meeting)||void 0===i?void 0:i.meta)||void 0===e?void 0:e.viewType);return(0,r.h)(r.H,{onClick:this.handleClick},(0,r.h)("div",{class:"left"},(0,r.h)("dyte-avatar",{participant:this.participant,size:"sm",iconPack:this.iconPack,t:this.t}),(0,r.h)("p",{class:"name",title:v},(0,u.s)(v,16)," ",(null===(o=this.meeting)||void 0===o?void 0:o.self.id)===(null===(s=this.participant)||void 0===s?void 0:s.id)&&this.t("(you)"))),"sidebar"===this.view&&(0,r.h)("div",{class:"right"},D&&(0,r.h)("dyte-icon",{class:{red:!this.audioEnabled},iconPack:this.iconPack,t:this.t,icon:this.audioEnabled?this.iconPack.mic_on:this.iconPack.mic_off}),D&&(0,r.h)("dyte-icon",{class:{red:!this.videoEnabled},iconPack:this.iconPack,t:this.t,icon:this.videoEnabled?this.iconPack.video_on:this.iconPack.video_off}),p&&(0,r.h)("dyte-menu",{iconPack:this.iconPack,t:this.t},(0,r.h)("dyte-button",{variant:"ghost",kind:"icon",slot:"trigger",iconPack:this.iconPack,t:this.t},(0,r.h)("dyte-icon",{class:"more",icon:this.iconPack.more_vertical})),(0,r.h)("dyte-menu-list",{iconPack:this.iconPack,t:this.t},this.canPinParticipant&&D&&(0,r.h)("dyte-menu-item",{onClick:function(){h.isPinned?h.participant.unpin():h.participant.pin()},iconPack:this.iconPack,t:this.t},(0,r.h)("dyte-icon",{icon:this.isPinned?this.iconPack.pin_off:this.iconPack.pin,slot:"start",iconPack:this.iconPack,t:this.t}),this.isPinned?this.t("Unpin"):this.t("Pin")),this.canDisableParticipantAudio&&D&&this.audioEnabled&&(0,r.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,onClick:function(){h.participant.disableAudio()}},(0,r.h)("dyte-icon",{icon:this.iconPack.mic_off,slot:"start"}),this.t("mute")),this.canDisableParticipantVideo&&D&&this.videoEnabled&&(0,r.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,onClick:function(){h.participant.disableVideo()}},(0,r.h)("dyte-icon",{icon:this.iconPack.video_off,slot:"start",iconPack:this.iconPack,t:this.t}),this.t("participant.turn_off_video")),"WEBINAR"===(null===(c=this.meeting)||void 0===c?void 0:c.meta.viewType)&&this.canAllowParticipantOnStage&&(null===(d=this.participant)||void 0===d?void 0:d.id)!==(null===(l=this.meeting)||void 0===l?void 0:l.self.id)&&(0,r.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,class:this.isOnStage?"red":"",onClick:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=h.participant,!h.isOnStage){t.next=7;break}return i.isPinned&&i.unpin(),t.next=5,i.removeFromStage();case 5:t.next=9;break;case 7:return t.next=9,i.acceptJoinStageRequest();case 9:h.isOnStage=!h.isOnStage;case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},(0,r.h)("dyte-icon",{iconPack:this.iconPack,t:this.t,icon:this.isOnStage?this.iconPack.leave_stage:this.iconPack.join_stage,slot:"start"}),this.isOnStage?this.t("stage.remove_from_stage"):this.t("stage.add_to_stage")),this.canKickParticipant&&(0,r.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,class:"red",onClick:function(){var t,i;null===(t=h.meeting)||void 0===t||t.participants.kick(null===(i=h.participant)||void 0===i?void 0:i.id)}},(0,r.h)("dyte-icon",{icon:this.iconPack.dismiss,slot:"start",iconPack:this.iconPack,t:this.t}),this.t("kick"))))),"breakout-rooms-manager"===this.view&&1===this.selected&&(0,r.h)("input",{type:"checkbox",checked:!0,onChange:function(t){return h.selected=t.target.checked?1:0}}),"breakout-room-manager"===this.view&&(0,r.h)("dyte-icon",{class:"red show-on-hover",icon:this.iconPack.dismiss,iconPack:this.iconPack,t:this.t,onClick:function(){h.onParticipantDelete.emit()}}))}}],[{key:"watchers",get:function(){return{meeting:["meetingChanged"],participant:["participantChanged"],selected:["selectedChanged"]}}}]),t}();g.style=":host{position:relative;display:flex;height:var(--dyte-space-14, 56px);align-items:center;justify-content:space-between;font-family:var(--dyte-font-family, sans-serif);cursor:pointer;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.left{display:flex;align-items:center}.left>*{margin-right:var(--dyte-space-2, 8px)}.left>*:last-child{margin-right:var(--dyte-space-0, 0px)}.right{display:flex;align-items:center;justify-content:flex-end}.right>*{margin-left:var(--dyte-space-2, 8px)}.right>*:first-child{margin-left:var(--dyte-space-0, 0px)}.name{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}dyte-avatar{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);font-size:14px}dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}dyte-icon.red{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}dyte-icon.more{cursor:pointer}.show-on-hover{margin-left:var(--dyte-space-4, 16px);height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);display:none}:host(:hover) .show-on-hover{display:flex}"},9013:function(t,i,e){e.d(i,{a:function(){return o},f:function(){return s},g:function(){return r},h:function(){return a},s:function(){return n}});var n=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return null==t?"":t.length>i?"".concat(t.substring(0,i),"..."):t},a=function(t){return/^(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8])+$/.test(t)&&!/^\d+$/.test(t)},o=function(t){return(null===t||void 0===t?void 0:t.trim().toLowerCase().startsWith("javascript:"))?"https://dyte.io":t},s=function(t){return""===(t=null===t||void 0===t?void 0:t.trim())?"Participant":t};function r(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t.replace(/[^\u00BF-\u1FFF\u2C00-\uD7FF\w\s]/g,"").trim().split(/\s+/).slice(0,i).map((function(t){return t.charAt(0)})).join("").toUpperCase()}}}]);
//# sourceMappingURL=9139.6752ef85.chunk.js.map